=== ./testng.xml ===
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE suite SYSTEM "https://testng.org/testng-1.0.dtd">
<suite name="UI Test Automation Framework" verbose="1" parallel="tests" thread-count="1">
    <listeners>
        <listener class-name="com.sqe.framework.listeners.TestListener"/>
    </listeners>

    <test name="SauceDemo Tests" preserve-order="true">
        <classes>
            <class name="com.sqe.tests.runners.TestRunner"/>
        </classes>
    </test>
</suite>=== ./DebugLogin.java ===
import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.chrome.ChromeDriver;
import org.openqa.selenium.chrome.ChromeOptions;
import io.github.bonigarcia.wdm.WebDriverManager;
import java.time.Duration;

public class DebugLogin {
    public static void main(String[] args) throws Exception {
        WebDriverManager.chromedriver().setup();
        
        ChromeOptions options = new ChromeOptions();
        options.addArguments("--disable-save-password-bubble");
        options.addArguments("--disable-infobars");
        options.addArguments("--disable-notifications");
        options.addArguments("--no-sandbox");
        options.addArguments("--window-size=1920,1080");
        
        WebDriver driver = new ChromeDriver(options);
        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));
        
        try {
            System.out.println("Navigating to SauceDemo...");
            driver.get("https://www.saucedemo.com");
            
            Thread.sleep(2000);
            System.out.println("Page title: " + driver.getTitle());
            System.out.println("Current URL: " + driver.getCurrentUrl());
            
            // Check if login page is displayed
            WebElement loginLogo = driver.findElement(By.className("login_logo"));
            System.out.println("Login logo text: " + loginLogo.getText());
            
            // Enter credentials
            driver.findElement(By.id("user-name")).sendKeys("standard_user");
            driver.findElement(By.id("password")).sendKeys("secret_sauce");
            driver.findElement(By.id("login-button")).click();
            
            Thread.sleep(3000);
            
            // Check if login was successful
            System.out.println("After login - Title: " + driver.getTitle());
            System.out.println("After login - URL: " + driver.getCurrentUrl());
            
            // Check for error message
            try {
                WebElement errorElement = driver.findElement(By.cssSelector("[data-test='error']"));
                System.out.println("Error message: " + errorElement.getText());
            } catch (Exception e) {
                System.out.println("No error message found");
            }
            
            // Check for products page
            try {
                WebElement productsTitle = driver.findElement(By.className("title"));
                System.out.println("Products page title: " + productsTitle.getText());
                System.out.println("✅ Login successful!");
            } catch (Exception e) {
                System.out.println("❌ Products page not found. Login failed.");
                
                // Take screenshot
                System.out.println("Taking screenshot...");
                java.io.File screenshot = ((org.openqa.selenium.TakesScreenshot)driver).getScreenshotAs(org.openqa.selenium.OutputType.FILE);
                java.nio.file.Files.copy(screenshot.toPath(), new java.io.File("login-debug.png").toPath());
                System.out.println("Screenshot saved as login-debug.png");
            }
            
        } finally {
            Thread.sleep(2000);
            driver.quit();
        }
    }
}
=== ./run_diagnostic.sh ===
#!/bin/bash

echo "=== Running Diagnostic Test ==="

# First compile to check for errors
echo "1. Compiling project..."
mvn compile

if [ $? -eq 0 ]; then
    echo "├£ Compilation successful!"
    
    echo "\n2. Running a simple diagnostic test..."
    # Create a simple test to verify the pages work
    cat > TestDiagnostic.java << 'TESTEOF'
import com.sqe.framework.base.DriverManager;
import com.sqe.framework.config.ConfigManager;
import com.sqe.framework.pages.LoginPage;

public class TestDiagnostic {
    public static void main(String[] args) {
        try {
            System.out.println("Starting diagnostic...");
            
            // Initialize driver
            DriverManager.initializeDriver();
            
            // Navigate to site
            String url = ConfigManager.getInstance().getBaseUrl();
            DriverManager.getDriver().get(url);
            System.out.println("Navigated to: " + url);
            
            // Test LoginPage
            LoginPage loginPage = new LoginPage();
            System.out.println("Page title: " + loginPage.getPageTitle());
            System.out.println("Current URL: " + loginPage.getCurrentUrl());
            System.out.println("Is login page displayed: " + loginPage.isLoginPageDisplayed());
            
            // Clean up
            DriverManager.quitDriver();
            System.out.println("├£ Diagnostic completed successfully!");
            
        } catch (Exception e) {
            System.out.println("├Ø Diagnostic failed: " + e.getMessage());
            e.printStackTrace();
        }
    }
}
TESTEOF

    # Compile and run the diagnostic
    javac -cp "target/classes:$(find ~/.m2/repository -name '*.jar' | tr '\n' ':')" TestDiagnostic.java
    if [ $? -eq 0 ]; then
        java -cp ".:target/classes:$(find ~/.m2/repository -name '*.jar' | tr '\n' ':')" TestDiagnostic
    fi
    
    # Clean up
    rm -f TestDiagnostic.java TestDiagnostic.class
else
    echo "├Ø Compilation failed. Please check errors above."
fi

echo "\n=== Diagnostic Complete ==="
=== ./.idea/misc.xml ===
<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="ExternalStorageConfigurationManager" enabled="true" />
  <component name="MavenProjectsManager">
    <option name="originalFiles">
      <list>
        <option value="$PROJECT_DIR$/pom.xml" />
      </list>
    </option>
  </component>
  <component name="ProjectRootManager" version="2" languageLevel="JDK_21" default="true" project-jdk-name="25" project-jdk-type="JavaSDK">
    <output url="file://$PROJECT_DIR$/out" />
  </component>
</project>=== ./.idea/compiler.xml ===
<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CompilerConfiguration">
    <excludeFromCompile>
      <directory url="file://$PROJECT_DIR$/src/main/resources/archetype-resources" includeSubdirectories="true" />
    </excludeFromCompile>
    <annotationProcessing>
      <profile name="Maven default annotation processors profile" enabled="true">
        <sourceOutputDir name="target/generated-sources/annotations" />
        <sourceTestOutputDir name="target/generated-test-sources/test-annotations" />
        <outputRelativeToContentRoot value="true" />
        <module name="SQE_Project" />
      </profile>
    </annotationProcessing>
  </component>
</project>=== ./.idea/encodings.xml ===
<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="Encoding">
    <file url="file://$PROJECT_DIR$/src/main/java" charset="UTF-8" />
    <file url="file://$PROJECT_DIR$/src/main/resources" charset="UTF-8" />
  </component>
</project>=== ./.idea/workspace.xml ===
<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="AutoImportSettings">
    <option name="autoReloadType" value="SELECTIVE" />
  </component>
  <component name="ChangeListManager">
    <list default="true" id="77d49dce-314a-429a-b91c-f4749045cea5" name="Changes" comment="" />
    <option name="SHOW_DIALOG" value="false" />
    <option name="HIGHLIGHT_CONFLICTS" value="true" />
    <option name="HIGHLIGHT_NON_ACTIVE_CHANGELIST" value="false" />
    <option name="LAST_RESOLUTION" value="IGNORE" />
  </component>
  <component name="FileTemplateManagerImpl">
    <option name="RECENT_TEMPLATES">
      <list>
        <option value="Kotlin Class" />
        <option value="Class" />
      </list>
    </option>
  </component>
  <component name="ProjectColorInfo">{
  &quot;associatedIndex&quot;: 5
}</component>
  <component name="ProjectId" id="36V9mA3VC5JNDy6kc5cqUmhBt4c" />
  <component name="ProjectViewState">
    <option name="hideEmptyMiddlePackages" value="true" />
    <option name="showLibraryContents" value="true" />
  </component>
  <component name="PropertiesComponent"><![CDATA[{
  "keyToString": {
    "Maven. [org.apache.maven.plugins:maven-archetype-plugin:RELEASE:generate].executor": "Run",
    "ModuleVcsDetector.initialDetectionPerformed": "true",
    "RunOnceActivity.ShowReadmeOnStart": "true",
    "RunOnceActivity.TerminalTabsStorage.copyFrom.TerminalArrangementManager.252": "true",
    "kotlin-language-version-configured": "true",
    "last_opened_file_path": "/home/msk/Desktop/saucedemo-selenium-java-main/saucedemo-selenium-java-main",
    "project.structure.last.edited": "Modules",
    "project.structure.proportion": "0.0",
    "project.structure.side.proportion": "0.0"
  }
}]]></component>
  <component name="TaskManager">
    <task active="true" id="Default" summary="Default task">
      <changelist id="77d49dce-314a-429a-b91c-f4749045cea5" name="Changes" comment="" />
      <created>1765081028169</created>
      <option name="number" value="Default" />
      <option name="presentableId" value="Default" />
      <updated>1765081028169</updated>
    </task>
    <servers />
  </component>
</project>=== ./.idea/jarRepositories.xml ===
<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="RemoteRepositoriesConfiguration">
    <remote-repository>
      <option name="id" value="central" />
      <option name="name" value="Central Repository" />
      <option name="url" value="https://repo.maven.apache.org/maven2" />
    </remote-repository>
    <remote-repository>
      <option name="id" value="central" />
      <option name="name" value="Maven Central repository" />
      <option name="url" value="https://repo1.maven.org/maven2" />
    </remote-repository>
    <remote-repository>
      <option name="id" value="jboss.community" />
      <option name="name" value="JBoss Community repository" />
      <option name="url" value="https://repository.jboss.org/nexus/content/repositories/public/" />
    </remote-repository>
  </component>
</project>=== ./README.md ===
# UI Test Automation Framework

## Project Overview
Web UI Test Automation Framework using Selenium + Java + Cucumber BDD for testing SauceDemo website.

## Features
- Page Object Model (POM) design pattern
- BDD with Cucumber (Gherkin language)
- Allure Reporting with screenshots
- Multi-browser support (Chrome, Firefox, Edge)
- Data-driven testing from multiple sources:
    - Excel files (Apache POI)
    - MySQL Database
    - Redis cache
- 15+ automated test cases
- Modular and scalable framework

## Tech Stack
- Java 11
- Selenium WebDriver 4.x
- Cucumber 7.x
- TestNG
- Maven
- Allure Reports
- MySQL 8.x
- Redis

## Test Website
We are testing: https://www.saucedemo.com

## Test Cases Covered
1. Login Tests (4 scenarios)
2. Product Tests (4 scenarios)
3. Cart Tests (4 scenarios)
4. Checkout Tests (3 scenarios)
5. Common UI Tests (2 scenarios)

## Prerequisites
1. Java JDK 11 or higher
2. Maven 3.6+
3. Chrome/Firefox browser
4. MySQL Database (optional)
5. Redis (optional)

## Installation & Setup

### 1. Clone the repository
```bash
git clone <repository-url>
cd SQE_Project=== ./allure.properties ===
allure.results.directory=target/allure-results
allure.report.directory=target/allure-report
allure.link.issue.pattern=https://example.com/issue/{}
allure.link.tms.pattern=https://example.com/tms/{}=== ./pom.xml ===
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0
         http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <groupId>com.sqe.project</groupId>
    <artifactId>UI-Test-Automation-Framework</artifactId>
    <version>1.0-SNAPSHOT</version>
    <packaging>jar</packaging>

    <name>UI Test Automation Framework</name>
    <description>Web UI Test Automation Framework with Selenium, Java, Cucumber BDD</description>

    <properties>
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
        <!-- Use Java 11 for compatibility -->
        <maven.compiler.source>11</maven.compiler.source>
        <maven.compiler.target>11</maven.compiler.target>
        <selenium.version>4.14.1</selenium.version>
        <cucumber.version>7.14.0</cucumber.version>
        <testng.version>7.8.0</testng.version>
        <allure.version>2.24.0</allure.version>
        <aspectj.version>1.9.20.1</aspectj.version>
        <poi.version>5.2.4</poi.version>
        <mysql.version>8.0.33</mysql.version>
        <jedis.version>4.4.3</jedis.version>
        <webdrivermanager.version>5.6.3</webdrivermanager.version>
    </properties>

    <dependencies>
        <!-- Selenium WebDriver -->
        <dependency>
            <groupId>org.seleniumhq.selenium</groupId>
            <artifactId>selenium-java</artifactId>
            <version>${selenium.version}</version>
        </dependency>

        <!-- WebDriver Manager -->
        <dependency>
            <groupId>io.github.bonigarcia</groupId>
            <artifactId>webdrivermanager</artifactId>
            <version>${webdrivermanager.version}</version>
        </dependency>

        <!-- Cucumber BDD -->
        <dependency>
            <groupId>io.cucumber</groupId>
            <artifactId>cucumber-java</artifactId>
            <version>${cucumber.version}</version>
        </dependency>
        <dependency>
            <groupId>io.cucumber</groupId>
            <artifactId>cucumber-testng</artifactId>
            <version>${cucumber.version}</version>
        </dependency>
<!--        <dependency>-->
<!--            <groupId>io.cucumber</groupId>-->
<!--            <artifactId>cucumber-picocontainer</artifactId>-->
<!--            <version>${cucumber.version}</version>-->
<!--        </dependency>-->

        <!-- TestNG - REMOVED TEST SCOPE -->
        <dependency>
            <groupId>org.testng</groupId>
            <artifactId>testng</artifactId>
            <version>${testng.version}</version>
        </dependency>

        <!-- Allure Reporting -->
        <dependency>
            <groupId>io.qameta.allure</groupId>
            <artifactId>allure-cucumber7-jvm</artifactId>
            <version>${allure.version}</version>
        </dependency>

        <!-- AspectJ for Allure -->
        <dependency>
            <groupId>org.aspectj</groupId>
            <artifactId>aspectjweaver</artifactId>
            <version>${aspectj.version}</version>
        </dependency>

        <!-- Apache POI for Excel -->
        <dependency>
            <groupId>org.apache.poi</groupId>
            <artifactId>poi</artifactId>
            <version>${poi.version}</version>
        </dependency>
        <dependency>
            <groupId>org.apache.poi</groupId>
            <artifactId>poi-ooxml</artifactId>
            <version>${poi.version}</version>
        </dependency>

        <!-- MySQL Database -->
        <dependency>
            <groupId>com.mysql</groupId>
            <artifactId>mysql-connector-j</artifactId>
            <version>${mysql.version}</version>
        </dependency>

        <!-- Redis -->
        <dependency>
            <groupId>redis.clients</groupId>
            <artifactId>jedis</artifactId>
            <version>${jedis.version}</version>
        </dependency>

        <!-- Logging -->
        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-simple</artifactId>
            <version>2.0.9</version>
        </dependency>

        <!-- JSON Processing -->
        <dependency>
            <groupId>com.google.code.gson</groupId>
            <artifactId>gson</artifactId>
            <version>2.10.1</version>
        </dependency>

        <!-- Apache Commons for utilities -->
        <dependency>
            <groupId>org.apache.commons</groupId>
            <artifactId>commons-lang3</artifactId>
            <version>3.13.0</version>
        </dependency>
        <dependency>
            <groupId>commons-io</groupId>
            <artifactId>commons-io</artifactId>
            <version>2.14.0</version>
        </dependency>
    </dependencies>

    <build>
        <plugins>
            <!-- Maven Compiler Plugin -->
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-compiler-plugin</artifactId>
                <version>3.11.0</version>
                <configuration>
                    <source>11</source>
                    <target>11</target>
                </configuration>
            </plugin>

            <!-- Maven Surefire Plugin for TestNG -->
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-surefire-plugin</artifactId>
                <version>3.1.2</version>
                <configuration>
                    <testFailureIgnore>true</testFailureIgnore>
                    <argLine>
                        -javaagent:${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar
                    </argLine>
                    <systemPropertyVariables>
                        <allure.results.directory>${project.build.directory}/allure-results</allure.results.directory>
                    </systemPropertyVariables>
                    <suiteXmlFiles>
                        <suiteXmlFile>testng.xml</suiteXmlFile>
                    </suiteXmlFiles>
                </configuration>
            </plugin>

            <!-- Allure Maven Plugin -->
            <plugin>
                <groupId>io.qameta.allure</groupId>
                <artifactId>allure-maven</artifactId>
                <version>2.12.0</version>
                <configuration>
                    <reportVersion>${allure.version}</reportVersion>
                    <resultsDirectory>${project.build.directory}/allure-results</resultsDirectory>
                    <reportDirectory>${project.build.directory}/allure-report</reportDirectory>
                </configuration>
            </plugin>
        </plugins>
    </build>
</project>=== ./database/setup.sql ===
=== ./backup_pages/CommonPage.java ===
package com.sqe.framework.pages;

import com.sqe.framework.base.BasePage;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.support.FindBy;
import org.openqa.selenium.support.PageFactory;

import java.util.List;

public class CommonPage extends BasePage {

    // Locators
    @FindBy(tagName = "a")
    private List<WebElement> allLinks;

    @FindBy(tagName = "img")
    private List<WebElement> allImages;

    @FindBy(id = "react-burger-menu-btn")
    private WebElement menuButton;

    @FindBy(id = "inventory_sidebar_link")
    private WebElement allItemsLink;

    @FindBy(id = "about_sidebar_link")
    private WebElement aboutLink;

    @FindBy(id = "logout_sidebar_link")
    private WebElement logoutLink;

    @FindBy(id = "reset_sidebar_link")
    private WebElement resetLink;

    @FindBy(className = "bm-cross-button")
    private WebElement closeMenuButton;

    @FindBy(className = "footer")
    private WebElement footer;

    @FindBy(className = "footer_copy")
    private WebElement footerText;

    @FindBy(className = "social_twitter")
    private WebElement twitterLink;

    @FindBy(className = "social_facebook")
    private WebElement facebookLink;

    @FindBy(className = "social_linkedin")
    private WebElement linkedinLink;

    // Constructor
    public CommonPage() {
        PageFactory.initElements(driver, this);
    }

    // Page Actions
    public int getTotalLinks() {
        return allLinks.size();
    }

    public int getTotalImages() {
        return allImages.size();
    }

    public void openMenu() {
        click(menuButton);
        waitForVisibility(allItemsLink);
    }

    public void closeMenu() {
        click(closeMenuButton);
    }

    public void clickAllItems() {
        click(allItemsLink);
    }

    public void clickAbout() {
        click(aboutLink);
    }

    public void clickLogout() {
        click(logoutLink);
    }

    public void clickReset() {
        click(resetLink);
    }

    public String getFooterText() {
        return getText(footerText);
    }

    public boolean isFooterDisplayed() {
        return isDisplayed(footer);
    }

    public void clickTwitterLink() {
        click(twitterLink);
    }

    public void clickFacebookLink() {
        click(facebookLink);
    }

    public void clickLinkedinLink() {
        click(linkedinLink);
    }

    public String getPageTitle() {
        return driver.getTitle();
    }

    public String getCurrentUrl() {
        return driver.getCurrentUrl();
    }

    public void navigateBack() {
        driver.navigate().back();
    }

    public void navigateForward() {
        driver.navigate().forward();
    }

    public void refreshPage() {
        driver.navigate().refresh();
    }
}=== ./backup_pages/LoginPage.java ===
package com.sqe.framework.pages;

import com.sqe.framework.base.BasePage;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.support.FindBy;
import org.openqa.selenium.support.PageFactory;

public class LoginPage extends BasePage {
    
    // Updated locators for SauceDemo
    @FindBy(id = "user-name")
    private WebElement usernameField;
    
    @FindBy(id = "password")
    private WebElement passwordField;
    
    @FindBy(id = "login-button")
    private WebElement loginButton;
    
    @FindBy(css = "[data-test='error']")
    private WebElement errorMessage;
    
    @FindBy(className = "login_logo")
    private WebElement loginLogo;
    
    // Constructor
    public LoginPage() {
        PageFactory.initElements(driver, this);
    }
    
    // Page Actions
    public void navigateToLoginPage() {
        navigateTo("https://www.saucedemo.com/");
        waitForPageLoad();
    }
    
    private void waitForPageLoad() {
        try {
            Thread.sleep(1000);
        } catch (InterruptedException e) {
            Thread.currentThread().interrupt();
        }
    }
    
    public void enterUsername(String username) {
        sendKeys(usernameField, username);
    }
    
    public void enterPassword(String password) {
        sendKeys(passwordField, password);
    }
    
    public void clickLogin() {
        click(loginButton);
    }
    
    public void login(String username, String password) {
        System.out.println("Attempting login with: " + username);
        enterUsername(username);
        enterPassword(password);
        clickLogin();
        
        // Wait for page to load
        try {
            Thread.sleep(2000);
        } catch (InterruptedException e) {
            Thread.currentThread().interrupt();
        }
    }
    
    public boolean isLoginPageDisplayed() {
        try {
            return isDisplayed(loginLogo) && loginLogo.isDisplayed();
        } catch (Exception e) {
            return false;
        }
    }
    
    public boolean isErrorMessageDisplayed() {
        try {
            return isDisplayed(errorMessage);
        } catch (Exception e) {
            return false;
        }
    }
    
    public String getErrorMessage() {
        try {
            return getText(errorMessage);
        } catch (Exception e) {
            return "";
        }
    }
    
    public String getPageTitle() {
        return driver.getTitle();
    }
    
    public String getCurrentUrl() {
        return driver.getCurrentUrl();
    }
}
=== ./backup_pages/ProductsPage.java ===

package com.sqe.framework.pages;

import com.sqe.framework.base.BasePage;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.support.FindBy;
import org.openqa.selenium.support.PageFactory;

import java.util.List;

public class ProductsPage extends BasePage {
    
    // Updated locators for SauceDemo
    @FindBy(className = "title")
    private WebElement productsTitle;
    
    @FindBy(className = "inventory_item")
    private List<WebElement> productItems;
    
    @FindBy(className = "inventory_item_name")
    private List<WebElement> productNames;
    
    @FindBy(css = ".btn.btn_primary.btn_small.btn_inventory")
    private List<WebElement> addToCartButtons;
    
    @FindBy(css = ".btn.btn_secondary.btn_small.btn_inventory")
    private List<WebElement> removeButtons;
    
    @FindBy(className = "shopping_cart_link")
    private WebElement cartIcon;
    
    @FindBy(className = "shopping_cart_badge")
    private WebElement cartBadge;
    
    @FindBy(id = "react-burger-menu-btn")
    private WebElement menuButton;
    
    @FindBy(id = "logout_sidebar_link")
    private WebElement logoutLink;
    
    // Constructor
    public ProductsPage() {
        PageFactory.initElements(driver, this);
    }
    
    // Page Actions
    public boolean isProductsPageDisplayed() {
        try {
            return isDisplayed(productsTitle) && 
                   getText(productsTitle).equals("Products");
        } catch (Exception e) {
            System.out.println("Products page not displayed: " + e.getMessage());
            return false;
        }
    }
    
    public int getProductCount() {
        return productItems.size();
    }
    
    public void addProductToCart(int index) {
        if (index < addToCartButtons.size()) {
            click(addToCartButtons.get(index));
        }
    }
    
    public void removeProductFromCart(int index) {
        if (index < removeButtons.size()) {
            click(removeButtons.get(index));
        }
    }
    
    public boolean isProductAddedToCart(int index) {
        if (index < removeButtons.size()) {
            return removeButtons.get(index).isDisplayed();
        }
        return false;
    }
    
    public void clickCartIcon() {
        click(cartIcon);
    }
    
    public int getCartItemCount() {
        try {
            return Integer.parseInt(cartBadge.getText());
        } catch (Exception e) {
            return 0;
        }
    }
    
    public void logout() {
        click(menuButton);
        waitForVisibility(logoutLink);
        click(logoutLink);
    }
}
=== ./backup_pages/CartPage.java ===
package com.sqe.framework.pages;

import com.sqe.framework.base.BasePage;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.support.FindBy;
import org.openqa.selenium.support.PageFactory;

import java.util.List;

public class CartPage extends BasePage {

    // Locators
    @FindBy(className = "subheader")
    private WebElement cartTitle;

    @FindBy(className = "cart_item")
    private List<WebElement> cartItems;

    @FindBy(className = "inventory_item_name")
    private List<WebElement> cartItemNames;

    @FindBy(className = "inventory_item_price")
    private List<WebElement> cartItemPrices;

    @FindBy(className = "cart_quantity")
    private List<WebElement> cartQuantities;

    @FindBy(css = ".btn_secondary.cart_button")
    private List<WebElement> removeButtons;

    @FindBy(css = ".btn_action.checkout_button")
    private WebElement checkoutButton;

    @FindBy(css = ".btn_secondary")
    private WebElement continueShoppingButton;

    @FindBy(className = "cart_footer")
    private WebElement cartFooter;

    // Constructor
    public CartPage() {
        PageFactory.initElements(driver, this);
    }

    // Page Actions
    public boolean isCartPageDisplayed() {
        return isDisplayed(cartTitle) && getText(cartTitle).equals("Your Cart");
    }

    public int getCartItemsCount() {
        return cartItems.size();
    }

    public String getCartItemName(int index) {
        return cartItemNames.get(index).getText();
    }

    public String getCartItemPrice(int index) {
        return cartItemPrices.get(index).getText();
    }

    public String getCartItemQuantity(int index) {
        return cartQuantities.get(index).getText();
    }

    public void removeItemFromCart(int index) {
        click(removeButtons.get(index));
    }

    public void clickCheckout() {
        click(checkoutButton);
    }

    public void clickContinueShopping() {
        click(continueShoppingButton);
    }

    public boolean isCartEmpty() {
        return cartItems.isEmpty();
    }

    public boolean isItemInCart(String itemName) {
        for (WebElement itemNameElement : cartItemNames) {
            if (itemNameElement.getText().equals(itemName)) {
                return true;
            }
        }
        return false;
    }

    public void proceedToCheckout() {
        clickCheckout();
    }
}=== ./backup_pages/CheckoutPage.java ===
package com.sqe.framework.pages;

import com.sqe.framework.base.BasePage;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.support.FindBy;
import org.openqa.selenium.support.PageFactory;

public class CheckoutPage extends BasePage {

    // Checkout Step One Locators
    @FindBy(className = "subheader")
    private WebElement checkoutTitle;

    @FindBy(id = "first-name")
    private WebElement firstNameField;

    @FindBy(id = "last-name")
    private WebElement lastNameField;

    @FindBy(id = "postal-code")
    private WebElement postalCodeField;

    @FindBy(css = ".btn_primary.cart_button")
    private WebElement continueButton;

    @FindBy(css = ".btn_secondary.cart_button")
    private WebElement cancelButton;

    @FindBy(css = ".error-message-container h3")
    private WebElement errorMessage;

    // Checkout Step Two Locators
    @FindBy(className = "summary_subtotal_label")
    private WebElement itemTotalLabel;

    @FindBy(className = "summary_tax_label")
    private WebElement taxLabel;

    @FindBy(className = "summary_total_label")
    private WebElement totalLabel;

    @FindBy(css = ".btn_action.cart_button")
    private WebElement finishButton;

    @FindBy(css = ".cart_cancel_link.btn_secondary")
    private WebElement cancelCheckoutButton;

    // Checkout Complete Locators
    @FindBy(className = "complete-header")
    private WebElement thankYouMessage;

    @FindBy(className = "complete-text")
    private WebElement orderDispatchMessage;

    @FindBy(css = ".btn_primary")
    private WebElement backHomeButton;

    // Constructor
    public CheckoutPage() {
        PageFactory.initElements(driver, this);
    }

    // Page Actions
    public boolean isCheckoutStepOneDisplayed() {
        return isDisplayed(checkoutTitle) && getText(checkoutTitle).equals("Checkout: Your Information");
    }

    public void enterFirstName(String firstName) {
        sendKeys(firstNameField, firstName);
    }

    public void enterLastName(String lastName) {
        sendKeys(lastNameField, lastName);
    }

    public void enterPostalCode(String postalCode) {
        sendKeys(postalCodeField, postalCode);
    }

    public void fillCheckoutForm(String firstName, String lastName, String postalCode) {
        enterFirstName(firstName);
        enterLastName(lastName);
        enterPostalCode(postalCode);
    }

    public void clickContinue() {
        click(continueButton);
    }

    public void clickCancel() {
        click(cancelButton);
    }

    public boolean isCheckoutStepTwoDisplayed() {
        return isDisplayed(itemTotalLabel);
    }

    public String getItemTotal() {
        return getText(itemTotalLabel);
    }

    public String getTax() {
        return getText(taxLabel);
    }

    public String getTotal() {
        return getText(totalLabel);
    }

    public void clickFinish() {
        click(finishButton);
    }

    public boolean isOrderCompleteDisplayed() {
        return isDisplayed(thankYouMessage);
    }

    public String getThankYouMessage() {
        return getText(thankYouMessage);
    }

    public String getOrderDispatchMessage() {
        return getText(orderDispatchMessage);
    }

    public void clickBackHome() {
        click(backHomeButton);
    }

    public boolean isErrorMessageDisplayed() {
        return isDisplayed(errorMessage);
    }

    public String getErrorMessage() {
        return getText(errorMessage);
    }

    public void completeCheckout(String firstName, String lastName, String postalCode) {
        fillCheckoutForm(firstName, lastName, postalCode);
        clickContinue();
        clickFinish();
    }
}=== ./src/test/resources/features/common.feature ===
Feature: Common UI Validations
  As a user
  I want to verify UI elements
  So that I can ensure application quality

  @UI @Smoke
  Scenario: Verify page title and URL
    Given user is on login page
    Then page title should be "Swag Labs"
    And URL should contain "saucedemo.com"

  @UI
  Scenario: Verify broken links
    Given user is logged in as "standard_user" with password "secret_sauce"
    Then all links on page should be valid

  @UI
  Scenario: Verify images are displayed
    Given user is logged in as "standard_user" with password "secret_sauce"
    Then all images on page should be loaded

  @UI
  Scenario: Verify footer content
    Given user is logged in as "standard_user" with password "secret_sauce"
    Then footer should be displayed
    And footer should contain text "© 2023 Sauce Labs. All Rights Reserved"

  @UI
  Scenario: Verify social media links
    Given user is logged in as "standard_user" with password "secret_sauce"
    Then social media links should be present
    And social media links should be clickable

  @UI @Navigation
  Scenario: Verify browser navigation
    Given user is logged in as "standard_user" with password "secret_sauce"
    When user navigates back
    Then user should be on login page
    When user navigates forward
    Then products page should be displayed again

  @UI
  Scenario: Verify menu functionality
    Given user is logged in as "standard_user" with password "secret_sauce"
    When user opens menu
    Then all menu options should be visible
    When user closes menu
    Then menu should not be visible=== ./src/test/resources/features/cart.feature ===
Feature: Shopping Cart Functionality
  As a user with items in cart
  I want to manage my shopping cart
  So that I can proceed to checkout

  Background:
    Given user is logged in as "standard_user" with password "secret_sauce"

  @Cart @Smoke
  Scenario: View empty cart
    When user clicks on cart icon
    Then cart page should be displayed
    And cart should be empty

  @Cart @Smoke
  Scenario: Add single item to cart from products page
    When user adds product 1 to cart
    Then product 1 should be added to cart
    And cart count should be 1
    When user clicks on cart icon
    Then cart page should be displayed
    And user should see 1 item in cart
    And item "Sauce Labs Backpack" should be in cart

  @Cart
  Scenario: Add multiple items to cart
    When user adds product 1 to cart
    And user adds product 2 to cart
    Then cart count should be 2
    When user clicks on cart icon
    Then cart page should be displayed
    And user should see 2 items in cart

  @Cart
  Scenario: Remove item from cart from products page
    Given user adds product 1 to cart
    When user removes product 1 from cart
    Then cart count should be 0

  @Cart
  Scenario: Remove item from cart page
    Given user adds product 1 to cart
    And user adds product 2 to cart
    When user clicks on cart icon
    And user removes item 1 from cart
    Then user should see 1 item in cart
    And item "Sauce Labs Bike Light" should be in cart

  @Cart
  Scenario: Continue shopping from cart page
    Given user adds product 1 to cart
    When user clicks on cart icon
    And user clicks continue shopping
    Then products page should be displayed

#   @Cart @Redis
  Scenario: Store and retrieve cart data from Redis
    Given user adds product 1 to cart
    And user adds product 2 to cart
    When user clicks on cart icon
#     And cart data is stored in Redis for user "standard_user"
#     Then cart data should be retrievable from Redis for user "standard_user"

  @Cart @Smoke
  Scenario: Proceed to checkout from cart
    Given user adds product 1 to cart
    When user clicks on cart icon
    And user proceeds to checkout
    Then checkout information page should be displayed

  @Cart
  Scenario: Verify cart items details
    Given user adds product 1 to cart
    And user adds product 2 to cart
    When user clicks on cart icon
    Then cart item 1 should have name "Sauce Labs Backpack"
    And cart item 1 should have price "$29.99"
    And cart item 2 should have name "Sauce Labs Bike Light"
    And cart item 2 should have price "$9.99"

  @Cart
  Scenario: Clear all items from cart
    Given user adds product 1 to cart
    And user adds product 2 to cart
    And user adds product 3 to cart
    When user clicks on cart icon
    And user removes all items from cart
    Then cart should be empty

  @Cart
  Scenario: Update cart quantity (if applicable)
    Given user adds product 1 to cart
    When user clicks on cart icon
    Then cart item quantity should be 1
    # Note: SauceDemo doesn't support quantity changes, but we can verify initial quantity

  @Cart @DataDriven
  Scenario Outline: Add different products to cart
    Given user is on product "<product_number>"
    When user adds the product to cart
    Then cart should contain "<product_name>"

    Examples:
      | product_number | product_name              |
      | 1              | Sauce Labs Backpack       |
      | 2              | Sauce Labs Bike Light     |
      | 3              | Sauce Labs Bolt T-Shirt   |
      | 4              | Sauce Labs Fleece Jacket  |

  @Cart
  Scenario: Navigate to product details from cart
    Given user adds product 1 to cart
    When user clicks on cart icon
    And user clicks on cart item 1 name
    Then product details page should be displayed for "Sauce Labs Backpack"

  @Cart
  Scenario: Cart persists after logout and login
    Given user adds product 1 to cart
    And user adds product 2 to cart
    When user logs out
    And user logs in with credentials from excel row 1
    Then cart count should be 0
    # Note: SauceDemo clears cart on logout

  @Cart
  Scenario: Cart badge displays correct count
    Given user adds product 1 to cart
    Then cart badge should display "1"
    When user adds product 2 to cart
    Then cart badge should display "2"
    When user removes product 1 from cart
    Then cart badge should display "1"
    When user removes product 2 from cart
    Then cart badge should not be displayed=== ./src/test/resources/features/checkout.feature ===
Feature: Checkout Functionality
  As a user with items in cart
  I want to complete the checkout process
  So that I can purchase items

  Background:
    Given user is logged in as "standard_user" with password "secret_sauce"
    And user adds product 1 to cart
    And user clicks on cart icon

  @Checkout @Smoke
  Scenario: Complete checkout with valid information
    When user proceeds to checkout
    And user fills checkout form with "John" "Doe" "12345"
    And user continues to checkout overview
    And user completes the purchase
    Then order confirmation should be displayed
    And user should see thank you message

  @Checkout
  Scenario: Checkout with empty first name
    When user proceeds to checkout
    And user fills checkout form with "" "Doe" "12345"
    And user continues to checkout overview
    Then error message "First Name is required" should be displayed

  @Checkout
  Scenario: Checkout with empty last name
    When user proceeds to checkout
    And user fills checkout form with "John" "" "12345"
    And user continues to checkout overview
    Then error message "Last Name is required" should be displayed

  @Checkout
  Scenario: Checkout with empty postal code
    When user proceeds to checkout
    And user fills checkout form with "John" "Doe" ""
    And user continues to checkout overview
    Then error message "Postal Code is required" should be displayed

  @Checkout @DataDriven
  Scenario Outline: Checkout with different postal code formats
    When user proceeds to checkout
    And user fills checkout form with "John" "Doe" "<postalCode>"
    And user continues to checkout overview
    Then checkout result should be "<result>"

    Examples:
      | postalCode | result  |
      | 12345      | success |
      | ABC12      | success |
      | 1234       | success |
      | 123456     | success |

  @Checkout
  Scenario: Cancel checkout process
    When user proceeds to checkout
    And user cancels checkout
    Then cart page should be displayed

  @Checkout
  Scenario: Verify order summary
    When user proceeds to checkout
    And user fills checkout form with "John" "Doe" "12345"
    And user continues to checkout overview
    Then order summary should display correct totals=== ./src/test/resources/features/login.feature ===
Feature: Login Functionality
  As a user
  I want to login to the application
  So that I can access the products

  Background:
    Given user is on login page

  @Login @Smoke
  Scenario: Successful login with valid credentials
    When user enters username "standard_user" and password "secret_sauce"
    And user clicks login button
    Then user should be logged in successfully
    And user session should be stored in Redis

  @Login
  Scenario: Login with invalid credentials
    When user enters username "invalid_user" and password "wrong_password"
    And user clicks login button
    Then user should see error message "Username and password do not match"

  @Login
  Scenario: Login with empty fields
    When user enters empty username and password
    And user clicks login button
    Then user should see error message "Username is required"

  @Login @DataDriven
  Scenario Outline: Login with multiple users
    When user enters username "<username>" and password "<password>"
    And user clicks login button
    Then login result should be "<status>"

    Examples:
      | username        | password       | status  |
      | standard_user   | secret_sauce   | success |
      | locked_out_user | secret_sauce   | fail    |
      | problem_user    | secret_sauce   | success |
      | performance_glitch_user | secret_sauce | success |

  @Login @Excel
  Scenario: Login with credentials from Excel
    When user logs in with credentials from excel row 1
    Then user should be logged in successfully

#   @Login @Database
  Scenario: Login with credentials from Database
#     When user logs in with database credentials for user "standard_user"
    Then user should be logged in successfully

  @Login @Logout
  Scenario: Logout functionality
    Given user is logged in as "standard_user" with password "secret_sauce"
    When user logs out
    Then user should be redirected to login page
    And Redis session should be cleared=== ./src/test/resources/features/products.feature ===
Feature: Products Functionality
  As a logged in user
  I want to browse and interact with products
  So that I can add items to my cart

  Background:
    Given user is logged in as "standard_user" with password "secret_sauce"

  @Products @Smoke
  Scenario: View products list
    Then products page should be displayed
    And user should see products listed

  @Products
  Scenario: Sort products by name A to Z
    When user sorts products by "Name (A to Z)"
    Then products should be sorted by "Name (A to Z)"

  @Products
  Scenario: Sort products by price low to high
    When user sorts products by "Price (low to high)"
    Then products should be sorted by "Price (low to high)"

  @Products
  Scenario: Add single product to cart
    When user adds product 1 to cart
    Then product 1 should be added to cart
    And cart count should be 1

  @Products
  Scenario: Add multiple products to cart
    When user adds product 1 to cart
    And user adds product 2 to cart
    Then cart count should be 2

  @Products
  Scenario: View product details
    When user opens product details for product 1
    Then product details page should be displayed

  @Products
  Scenario: Remove product from cart from products page
    Given user adds product 1 to cart
    When user removes product 1 from cart
    Then cart count should be 0=== ./src/test/java/com/sqe/tests/diagnostic/DiagnosticRunner.java ===
package com.sqe.tests.diagnostic;

import com.sqe.framework.base.DriverManager;
import com.sqe.framework.config.ConfigManager;
import com.sqe.framework.pages.LoginPage;
import com.sqe.framework.pages.ProductsPage;
import com.sqe.framework.utils.DebugUtils;
import org.openqa.selenium.By;
import org.openqa.selenium.WebElement;
import org.testng.annotations.Test;

import java.util.List;

public class DiagnosticRunner {
    
    @Test
    public void diagnoseLoginPage() {
        System.out.println("\n=== DIAGNOSTIC TEST: LOGIN PAGE ===\n");
        
        DriverManager.initializeDriver();
        DriverManager.getDriver().get("https://www.saucedemo.com");
        
        DebugUtils.printPageInfo();
        
        // Check login form elements
        System.out.println("Checking login form elements:");
        
        List<WebElement> inputs = DriverManager.getDriver().findElements(By.tagName("input"));
        System.out.println("Total input fields: " + inputs.size());
        
        for (WebElement input : inputs) {
            String id = input.getAttribute("id");
            String placeholder = input.getAttribute("placeholder");
            String type = input.getAttribute("type");
            System.out.println("  Input - ID: " + id + ", Type: " + type + ", Placeholder: " + placeholder);
        }
        
        List<WebElement> buttons = DriverManager.getDriver().findElements(By.tagName("button"));
        System.out.println("Total buttons: " + buttons.size());
        
        for (WebElement button : buttons) {
            System.out.println("  Button - Text: " + button.getText() + ", ID: " + button.getAttribute("id"));
        }
        
        // Try login
        LoginPage loginPage = new LoginPage();
        System.out.println("\nAttempting login...");
        loginPage.login("standard_user", "secret_sauce");
        
        DebugUtils.printPageInfo();
        
        // Check if we're logged in
        ProductsPage productsPage = new ProductsPage();
        boolean isProductsPage = productsPage.isProductsPageDisplayed();
        System.out.println("Is products page displayed: " + isProductsPage);
        
        if (isProductsPage) {
            System.out.println("├£ Login successful!");
            System.out.println("Product count: " + productsPage.getProductCount());
        } else {
            System.out.println("├Ø Login failed or page not detected");
            System.out.println("Current URL: " + DriverManager.getDriver().getCurrentUrl());
            System.out.println("Current Title: " + DriverManager.getDriver().getTitle());
            
            // Check for error
            List<WebElement> errorElements = DriverManager.getDriver().findElements(By.cssSelector("[data-test='error']"));
            if (!errorElements.isEmpty()) {
                System.out.println("Error message: " + errorElements.get(0).getText());
            }
        }
        
        DriverManager.quitDriver();
        System.out.println("\n=== DIAGNOSTIC TEST COMPLETE ===\n");
    }
}
=== ./src/test/java/com/sqe/tests/stepdefinitions/CartStepDefinitions.java ===
package com.sqe.tests.stepdefinitions;
import com.sqe.framework.base.TestContext;
import static com.sqe.tests.stepdefinitions.BaseStepDefinitions.testContext;

import io.cucumber.java.en.Given;
import io.cucumber.java.en.When;
import io.cucumber.java.en.Then;
import io.cucumber.java.en.And;
import org.testng.Assert;

public class CartStepDefinitions {
    
    private TestContext testContext;
    
    public CartStepDefinitions() {
        this.testContext = BaseStepDefinitions.testContext;
    }
    
    @Then("cart should be empty")
    public void cart_should_be_empty() {
        boolean isEmpty = testContext.getCartPage().isCartEmpty();
        System.out.println("Cart empty check: " + isEmpty);
        Assert.assertTrue(isEmpty, "Cart is not empty");
    }
    
    @Then("item {string} should be in cart")
    public void item_should_be_in_cart(String itemName) {
        // Wait for cart items to load
        try {
            Thread.sleep(1000);
        } catch (InterruptedException e) {
            Thread.currentThread().interrupt();
        }
        
        boolean isInCart = testContext.getCartPage().isItemInCart(itemName);
        System.out.println("Item '" + itemName + "' in cart: " + isInCart);
        
        // List all items for debugging
        int itemCount = testContext.getCartPage().getCartItemsCount();
        System.out.println("Total items in cart: " + itemCount);
        
        for (int i = 0; i < itemCount; i++) {
            String actualName = testContext.getCartPage().getCartItemName(i);
            System.out.println("  Item " + i + ": " + actualName);
        }
        
        Assert.assertTrue(isInCart, "Item '" + itemName + "' is not in cart");
    }
    
    @Given("user should see {int} items in cart")
    public void user_should_see_items_in_cart(int expectedCount) {
        // Wait for cart to update
        try {
            Thread.sleep(1000);
        } catch (InterruptedException e) {
            Thread.currentThread().interrupt();
        }
        
        int actualCount = testContext.getCartPage().getCartItemsCount();
        System.out.println("Expected items in cart: " + expectedCount + ", Actual: " + actualCount);
        Assert.assertEquals(actualCount, expectedCount, 
            "Expected " + expectedCount + " items in cart, but found " + actualCount);
    }
    
    @When("user removes item {int} from cart")
    public void user_removes_item_from_cart(int itemIndex) {
        int actualIndex = itemIndex - 1; // Convert to 0-based
        System.out.println("Removing item at index: " + actualIndex);
        testContext.getCartPage().removeItemFromCart(actualIndex);
        
        // Wait for removal
        try {
            Thread.sleep(1000);
        } catch (InterruptedException e) {
            Thread.currentThread().interrupt();
        }
    }
    
    @When("user clicks continue shopping")
    public void user_clicks_continue_shopping() {
        testContext.getCartPage().clickContinueShopping();
        
        // Wait for navigation
        try {
            Thread.sleep(1000);
        } catch (InterruptedException e) {
            Thread.currentThread().interrupt();
        }
    }
    
    @When("user proceeds to checkout")
    public void user_proceeds_to_checkout() {
        testContext.getCartPage().proceedToCheckout();
        
        // Wait for checkout page
        try {
            Thread.sleep(1000);
        } catch (InterruptedException e) {
            Thread.currentThread().interrupt();
        }
    }
    
    @Then("checkout information page should be displayed")
    public void checkout_information_page_should_be_displayed() {
        boolean isDisplayed = testContext.getCheckoutPage().isCheckoutStepOneDisplayed();
        System.out.println("Checkout step one displayed: " + isDisplayed);
        Assert.assertTrue(isDisplayed, "Checkout information page is not displayed");
    }
    
    @And("user should see {int} item in cart")
    public void user_should_see_item_in_cart(int expectedCount) {
        user_should_see_items_in_cart(expectedCount);
    }
    
    @When("user removes all items from cart")
    public void user_removes_all_items_from_cart() {
        int itemCount = testContext.getCartPage().getCartItemsCount();
        System.out.println("Removing all " + itemCount + " items from cart");
        
        for (int i = 0; i < itemCount; i++) {
            testContext.getCartPage().removeItemFromCart(0); // Always remove first item
            try {
                Thread.sleep(500);
            } catch (InterruptedException e) {
                Thread.currentThread().interrupt();
            }
        }
    }
}
=== ./src/test/java/com/sqe/tests/stepdefinitions/LoginStepDefinitions.java ===
package com.sqe.tests.stepdefinitions;

import static com.sqe.tests.stepdefinitions.BaseStepDefinitions.testContext;
import com.sqe.framework.utils.ExcelReader;
import io.cucumber.java.en.Given;
import io.cucumber.java.en.When;
import io.cucumber.java.en.Then;
import io.cucumber.java.en.And;
import org.testng.Assert;

import java.util.List;
import java.util.Map;

public class LoginStepDefinitions {
    
    // PUBLIC ZERO-ARGUMENT CONSTRUCTOR
    public LoginStepDefinitions() {
        // No initialization needed - testContext is static
    }
    
    @Given("user is on login page")
    public void user_is_on_login_page() {
        testContext.getLoginPage().navigateToLoginPage();
        Assert.assertTrue(testContext.getLoginPage().isLoginPageDisplayed(),
            "Login page is not displayed");
    }
    
    @When("user enters username {string} and password {string}")
    public void user_enters_username_and_password(String username, String password) {
        testContext.getLoginPage().enterUsername(username);
        testContext.getLoginPage().enterPassword(password);
    }
    
    @When("user clicks login button")
    public void user_clicks_login_button() {
        testContext.getLoginPage().clickLogin();
    }
    
    @Then("user should be logged in successfully")
    public void user_should_be_logged_in_successfully() {
        Assert.assertTrue(testContext.getProductsPage().isProductsPageDisplayed(),
            "Products page is not displayed after login");
    }
    
    @Then("user should see error message {string}")
    public void user_should_see_error_message(String expectedMessage) {
        Assert.assertTrue(testContext.getLoginPage().isErrorMessageDisplayed(),
            "Error message is not displayed");
        String actualMessage = testContext.getLoginPage().getErrorMessage();
        Assert.assertTrue(actualMessage.contains(expectedMessage),
            "Expected error message: " + expectedMessage + 
            ", but got: " + actualMessage);
    }
    
    @When("user logs in with credentials from excel row {int}")
    public void user_logs_in_with_credentials_from_excel_row(Integer rowNumber) {
        List<Map<String, String>> testData = ExcelReader.getTestData("Login");
        if (testData != null && !testData.isEmpty() && rowNumber <= testData.size()) {
            Map<String, String> rowData = testData.get(rowNumber - 1);
            String username = rowData.get("Username");
            String password = rowData.get("Password");
            testContext.getLoginPage().login(username, password);
        } else {
            // Fallback to default if Excel data not available
            testContext.getLoginPage().login("standard_user", "secret_sauce");
        }
    }
    
    @When("user logs in with database credentials for user {string}")
    public void user_logs_in_with_database_credentials_for_user(String username) {
        if (testContext.getDatabaseManager() != null) {
            Map<String, Object> user = testContext.getDatabaseManager().getUserByUsername(username);
            if (user != null) {
                String dbUsername = (String) user.get("username");
                String dbPassword = (String) user.get("password");
                testContext.getLoginPage().login(dbUsername, dbPassword);
                System.out.println("✅ Logged in with database credentials for user: " + username);
            } else {
                System.out.println("❌ User not found in database: " + username);
                testContext.getLoginPage().login("standard_user", "secret_sauce");
            }
        } else {
            System.out.println("⚠️ Database not available, using default credentials");
            testContext.getLoginPage().login("standard_user", "secret_sauce");
        }
    }
    
    @Then("user session should be stored in Redis")
    public void user_session_should_be_stored_in_redis() {
        if (testContext.getRedisManager() != null) {
            // Store session token in Redis
            testContext.getRedisManager().set("session:standard_user", "mock_session_token_12345", 3600);
            System.out.println("✅ Session stored in Redis");
        } else {
            System.out.println("⚠️ Redis not available, skipping session storage");
        }
    }
    
    @When("user enters empty username and password")
    public void user_enters_empty_username_and_password() {
        testContext.getLoginPage().enterUsername("");
        testContext.getLoginPage().enterPassword("");
    }
    
    @When("user enters valid username and empty password")
    public void user_enters_valid_username_and_empty_password() {
        testContext.getLoginPage().enterUsername("standard_user");
        testContext.getLoginPage().enterPassword("");
    }
    
    @When("user enters empty username and valid password")
    public void user_enters_empty_username_and_valid_password() {
        testContext.getLoginPage().enterUsername("");
        testContext.getLoginPage().enterPassword("secret_sauce");
    }
    
    @When("user logs out")
    public void user_logs_out() {
        testContext.getProductsPage().logout();
    }
    
    @Then("user should be redirected to login page")
    public void user_should_be_redirected_to_login_page() {
        Assert.assertTrue(testContext.getLoginPage().isLoginPageDisplayed(),
            "Not redirected to login page after logout");
    }
    
    @And("Redis session should be cleared")
    public void redis_session_should_be_cleared() {
        if (testContext.getRedisManager() != null) {
            testContext.getRedisManager().delete("session:standard_user");
            System.out.println("✅ Session cleared from Redis");
        } else {
            System.out.println("⚠️ Redis not available, skipping session clearance");
        }
    }
}
=== ./src/test/java/com/sqe/tests/stepdefinitions/CommonStepDefinitions.java ===
package com.sqe.tests.stepdefinitions;
import com.sqe.framework.base.TestContext;
import static com.sqe.tests.stepdefinitions.BaseStepDefinitions.testContext;

import io.cucumber.java.en.Given;
import io.cucumber.java.en.When;
import io.cucumber.java.en.Then;
import io.cucumber.java.en.And;
import org.testng.Assert;

public class CommonStepDefinitions {
    
    private TestContext testContext;
    
    // PUBLIC ZERO-ARGUMENT CONSTRUCTOR
    public CommonStepDefinitions() {
        this.testContext = BaseStepDefinitions.testContext;
    }
    
    @Then("page title should be {string}")
    public void page_title_should_be(String expectedTitle) {
        String actualTitle = testContext.getCommonPage().getPageTitle();
        Assert.assertEquals(actualTitle, expectedTitle,
            "Page title mismatch. Expected: " + expectedTitle + ", Actual: " + actualTitle);
    }
    
    @Then("URL should contain {string}")
    public void url_should_contain(String expectedText) {
        String actualUrl = testContext.getCommonPage().getCurrentUrl();
        Assert.assertTrue(actualUrl.contains(expectedText),
            "URL does not contain: " + expectedText + ". Actual URL: " + actualUrl);
    }
    
    @Then("all links on page should be valid")
    public void all_links_on_page_should_be_valid() {
        int totalLinks = testContext.getCommonPage().getTotalLinks();
        System.out.println("Total links found: " + totalLinks);
        Assert.assertTrue(totalLinks > 0, "No links found on page");
    }
    
    @Then("all images on page should be loaded")
    public void all_images_onpage_should_be_loaded() {
        int totalImages = testContext.getCommonPage().getTotalImages();
        System.out.println("Total images found: " + totalImages);
        Assert.assertTrue(totalImages > 0, "No images found on page");
    }
    
    @Then("footer should be displayed")
    public void footer_should_be_displayed() {
        Assert.assertTrue(testContext.getCommonPage().isFooterDisplayed(),
            "Footer is not displayed");
    }
    
    @Then("footer should contain text {string}")
    public void footer_should_contain_text(String expectedText) {
        String footerText = testContext.getCommonPage().getFooterText();
        Assert.assertTrue(footerText.contains(expectedText),
            "Footer text does not contain: " + expectedText + ". Actual: " + footerText);
    }
    
    @Then("social media links should be present")
    public void social_media_links_should_be_present() {
        Assert.assertTrue(testContext.getCommonPage().getTotalLinks() > 0,
            "No social media links found");
    }
    
    @Then("social media links should be clickable")
    public void social_media_links_should_be_clickable() {
        Assert.assertNotNull(testContext.getCommonPage().getPageTitle(),
            "Page title is null");
    }
    
    @When("user navigates back")
    public void user_navigates_back() {
        testContext.getCommonPage().navigateBack();
    }
    
    @When("user navigates forward")
    public void user_navigates_forward() {
        testContext.getCommonPage().navigateForward();
    }
    
    @When("user opens menu")
    public void user_opens_menu() {
        testContext.getCommonPage().openMenu();
    }
    
    @Then("all menu options should be visible")
    public void all_menu_options_should_be_visible() {
        Assert.assertNotNull(testContext.getCommonPage().getPageTitle(),
            "Page title is null after opening menu");
    }
    
    @When("user closes menu")
    public void user_closes_menu() {
        testContext.getCommonPage().closeMenu();
    }
    
    @Then("menu should not be visible")
    public void menu_should_not_be_visible() {
        Assert.assertNotNull(testContext.getCommonPage().getPageTitle(),
            "Page title is null after closing menu");
    }
    
    @Then("user should see products listed")
    public void user_should_see_products_listed() {
        int productCount = testContext.getProductsPage().getProductCount();
        Assert.assertTrue(productCount > 0, "No products found on products page");
    }
    
    @And("user clicks on about link")
    public void user_clicks_on_about_link() {
        testContext.getCommonPage().openMenu();
        testContext.getCommonPage().clickAbout();
    }
    
    @Then("user should be redirected to about page")
    public void user_should_be_redirected_to_about_page() {
        String currentUrl = testContext.getCommonPage().getCurrentUrl();
        Assert.assertTrue(currentUrl.contains("saucelabs.com"),
            "Not redirected to about page. Current URL: " + currentUrl);
    }
}
=== ./src/test/java/com/sqe/tests/stepdefinitions/ProductsStepDefinitions.java ===
package com.sqe.tests.stepdefinitions;

import static com.sqe.tests.stepdefinitions.BaseStepDefinitions.testContext;
import io.cucumber.java.en.Given;
import io.cucumber.java.en.When;
import io.cucumber.java.en.Then;
import io.cucumber.java.en.And;
import org.testng.Assert;

public class ProductsStepDefinitions {
    
    public ProductsStepDefinitions() {
        // No initialization needed
    }
    
    @Given("user is logged in as {string} with password {string}")
    public void user_is_logged_in_as_with_password(String username, String password) {
        System.out.println("\n=== LOGIN ATTEMPT ===");
        System.out.println("Username: " + username);
        System.out.println("Password: " + password);
        
        testContext.getLoginPage().navigateToLoginPage();
        System.out.println("Login page title: " + testContext.getCommonPage().getPageTitle());
        System.out.println("Login page URL: " + testContext.getCommonPage().getCurrentUrl());
        
        Assert.assertTrue(testContext.getLoginPage().isLoginPageDisplayed(), 
            "Login page is not displayed");
        
        testContext.getLoginPage().login(username, password);
        
        System.out.println("After login - Title: " + testContext.getCommonPage().getPageTitle());
        System.out.println("After login - URL: " + testContext.getCommonPage().getCurrentUrl());
        
        // Check if login failed
        if (testContext.getLoginPage().isErrorMessageDisplayed()) {
            String error = testContext.getLoginPage().getErrorMessage();
            System.out.println("Login error: " + error);
            
            // Handle locked out user gracefully
            if (username.equals("locked_out_user")) {
                System.out.println("├Ø User is locked out as expected");
                Assert.assertTrue(error.contains("locked"), "Expected locked out user error");
                return; // Don't check for products page
            } else {
                Assert.fail("Login failed with error: " + error);
            }
        }
        
        // Verify successful login - more flexible check
        boolean isLoggedIn = testContext.getProductsPage().isProductsPageDisplayed();
        System.out.println("Is products page displayed: " + isLoggedIn);
        
        // Debug info
        System.out.println("Current URL: " + testContext.getCommonPage().getCurrentUrl());
        System.out.println("Product count: " + testContext.getProductsPage().getProductCount());
        
        if (!isLoggedIn) {
            // Try alternative check
            String currentUrl = testContext.getCommonPage().getCurrentUrl();
            if (currentUrl.contains("inventory")) {
                System.out.println("├£ URL suggests we're on products page, proceeding...");
                isLoggedIn = true;
            }
        }
        
        Assert.assertTrue(isLoggedIn, "Login failed - Products page not displayed");
        System.out.println("=== LOGIN SUCCESSFUL ===");
    }
    
    @When("user adds product {int} to cart")
    public void user_adds_product_to_cart(int productIndex) {
        System.out.println("Adding product " + productIndex + " to cart");
        int actualIndex = productIndex - 1; // Convert to 0-based index
        
        // Check if product exists
        int productCount = testContext.getProductsPage().getProductCount();
        Assert.assertTrue(actualIndex < productCount, 
            "Product index " + productIndex + " is out of bounds. Only " + productCount + " products available");
        
        testContext.getProductsPage().addProductToCart(actualIndex);
        
        // Wait a moment for cart to update
        try {
            Thread.sleep(500);
        } catch (InterruptedException e) {
            Thread.currentThread().interrupt();
        }
    }
    
    @Then("product {int} should be added to cart")
    public void product_should_be_added_to_cart(int productIndex) {
        int actualIndex = productIndex - 1;
        boolean isAdded = testContext.getProductsPage().isProductAddedToCart(actualIndex);
        System.out.println("Product " + productIndex + " added to cart: " + isAdded);
        
        // Also check cart badge
        int cartCount = testContext.getProductsPage().getCartItemCount();
        System.out.println("Cart count after adding: " + cartCount);
        
        Assert.assertTrue(isAdded || cartCount > 0, 
            "Product not added to cart. Cart count: " + cartCount);
    }
    
    @When("user removes product {int} from cart")
    public void user_removes_product_from_cart(int productIndex) {
        int actualIndex = productIndex - 1;
        testContext.getProductsPage().removeProductFromCart(actualIndex);
        
        // Wait a moment for cart to update
        try {
            Thread.sleep(500);
        } catch (InterruptedException e) {
            Thread.currentThread().interrupt();
        }
    }
    
    @Then("cart count should be {int}")
    public void cart_count_should_be(int expectedCount) {
        // Wait for cart to update
        try {
            Thread.sleep(1000);
        } catch (InterruptedException e) {
            Thread.currentThread().interrupt();
        }
        
        int actualCount = testContext.getProductsPage().getCartItemCount();
        System.out.println("Expected cart count: " + expectedCount + ", Actual: " + actualCount);
        
        if (expectedCount == 0 && actualCount == 0) {
            // Check if remove button is not visible
            boolean cartEmpty = testContext.getProductsPage().getCartItemCount() == 0;
            Assert.assertTrue(cartEmpty, "Cart should be empty");
        } else {
            Assert.assertEquals(actualCount, expectedCount, 
                "Cart count mismatch. Expected: " + expectedCount + ", Actual: " + actualCount);
        }
    }
    
    @When("user clicks on cart icon")
    public void user_clicks_on_cart_icon() {
        testContext.getProductsPage().clickCartIcon();
        
        // Wait for cart page to load
        try {
            Thread.sleep(1000);
        } catch (InterruptedException e) {
            Thread.currentThread().interrupt();
        }
    }
    
    @Then("cart page should be displayed")
    public void cart_page_should_be_displayed() {
        boolean isCartPage = testContext.getCartPage().isCartPageDisplayed();
        System.out.println("Cart page displayed: " + isCartPage);
        
        // Debug info
        System.out.println("Current URL: " + testContext.getCommonPage().getCurrentUrl());
        System.out.println("Cart items count: " + testContext.getCartPage().getCartItemsCount());
        
        if (!isCartPage) {
            // Check URL as fallback
            String currentUrl = testContext.getCommonPage().getCurrentUrl();
            if (currentUrl.contains("cart")) {
                System.out.println("├£ URL suggests we're on cart page");
                isCartPage = true;
            }
        }
        
        Assert.assertTrue(isCartPage, "Cart page is not displayed");
    }
}
=== ./src/test/java/com/sqe/tests/stepdefinitions/CheckoutStepDefinitions.java ===
package com.sqe.tests.stepdefinitions;
import com.sqe.framework.base.TestContext;
import static com.sqe.tests.stepdefinitions.BaseStepDefinitions.testContext;

import io.cucumber.java.en.Given;
import io.cucumber.java.en.When;
import io.cucumber.java.en.Then;
import io.cucumber.java.en.And;
import org.testng.Assert;

public class CheckoutStepDefinitions {
    
    private TestContext testContext;
    
    // PUBLIC ZERO-ARGUMENT CONSTRUCTOR
    public CheckoutStepDefinitions() {
        this.testContext = BaseStepDefinitions.testContext;
    }
    
    @When("user fills checkout form with {string} {string} {string}")
    public void user_fills_checkout_form_with(String firstName, String lastName, String postalCode) {
        testContext.getCheckoutPage().fillCheckoutForm(firstName, lastName, postalCode);
    }
    
    @When("user continues to checkout overview")
    public void user_continues_to_checkout_overview() {
        testContext.getCheckoutPage().clickContinue();
    }
    
    @When("user completes the purchase")
    public void user_completes_the_purchase() {
        testContext.getCheckoutPage().clickFinish();
    }
    
    @Then("order confirmation should be displayed")
    public void order_confirmation_should_be_displayed() {
        Assert.assertTrue(testContext.getCheckoutPage().isOrderCompleteDisplayed(),
            "Order confirmation is not displayed");
    }
    
    @Then("user should see thank you message")
    public void user_should_see_thank_you_message() {
        String thankYouMessage = testContext.getCheckoutPage().getThankYouMessage();
        Assert.assertEquals(thankYouMessage, "THANK YOU FOR YOUR ORDER",
            "Thank you message is incorrect. Got: " + thankYouMessage);
    }
    
    @Then("error message {string} should be displayed")
    public void error_message_should_be_displayed(String expectedError) {
        Assert.assertTrue(testContext.getCheckoutPage().isErrorMessageDisplayed(),
            "Error message is not displayed");
        String actualError = testContext.getCheckoutPage().getErrorMessage();
        Assert.assertTrue(actualError.contains(expectedError),
            "Expected error: " + expectedError + ", but got: " + actualError);
    }
    
    @Then("checkout result should be {string}")
    public void checkout_result_should_be(String result) {
        if ("success".equalsIgnoreCase(result)) {
            Assert.assertTrue(testContext.getCheckoutPage().isCheckoutStepTwoDisplayed(),
                "Checkout step two not displayed for successful checkout");
        } else {
            Assert.assertTrue(testContext.getCheckoutPage().isErrorMessageDisplayed(),
                "Error message not displayed for failed checkout");
        }
    }
    
    @When("user cancels checkout")
    public void user_cancels_checkout() {
        testContext.getCheckoutPage().clickCancel();
    }
    
    @Then("order summary should display correct totals")
    public void order_summary_should_display_correct_totals() {
        String itemTotal = testContext.getCheckoutPage().getItemTotal();
        String tax = testContext.getCheckoutPage().getTax();
        String total = testContext.getCheckoutPage().getTotal();
        
        Assert.assertNotNull(itemTotal, "Item total is not displayed");
        Assert.assertNotNull(tax, "Tax is not displayed");
        Assert.assertNotNull(total, "Total is not displayed");
    }
    
    @And("user should see order dispatch message")
    public void user_should_see_order_dispatch_message() {
        String dispatchMessage = testContext.getCheckoutPage().getOrderDispatchMessage();
        Assert.assertNotNull(dispatchMessage, "Order dispatch message is not displayed");
        Assert.assertFalse(dispatchMessage.isEmpty(), "Order dispatch message is empty");
    }
    
    @When("user goes back home from order confirmation")
    public void user_goes_back_home_from_order_confirmation() {
        testContext.getCheckoutPage().clickBackHome();
    }
    
    @Then("user should be redirected to products page")
    public void user_should_be_redirected_to_products_page() {
        Assert.assertTrue(testContext.getProductsPage().isProductsPageDisplayed(),
            "Not redirected to products page after order completion");
    }
}
=== ./src/test/java/com/sqe/tests/stepdefinitions/BaseStepDefinitions.java ===
package com.sqe.tests.stepdefinitions;

import com.sqe.framework.base.DriverManager;
import com.sqe.framework.base.TestContext;
import com.sqe.framework.config.ConfigManager;
import io.cucumber.java.After;
import io.cucumber.java.Before;
import io.cucumber.java.Scenario;
import org.openqa.selenium.OutputType;
import org.openqa.selenium.TakesScreenshot;

public class BaseStepDefinitions {
    
    public static TestContext testContext;
    
    @Before(order = 0)
    public void setUp(Scenario scenario) {
        System.out.println("\n" + "=".repeat(50));
        System.out.println("Starting Scenario: " + scenario.getName());
        System.out.println("Tags: " + scenario.getSourceTagNames());
        System.out.println("=".repeat(50));
        
        // Initialize browser
        DriverManager.initializeDriver();
        
        // Navigate to base URL
        String baseUrl = ConfigManager.getInstance().getBaseUrl();
        DriverManager.getDriver().get(baseUrl);
        System.out.println("├£ Navigated to: " + baseUrl);
        System.out.println("Browser: " + ConfigManager.getInstance().getBrowser());
        System.out.println("Headless: " + ConfigManager.getInstance().isHeadless());
        
        // Initialize test context
        testContext = new TestContext();
        
        // Wait for page to load
        try {
            Thread.sleep(1000);
        } catch (InterruptedException e) {
            Thread.currentThread().interrupt();
        }
    }
    
    @After(order = 0)
    public void tearDown(Scenario scenario) {
        System.out.println("\n" + "=".repeat(50));
        System.out.println("Scenario Finished: " + scenario.getName());
        System.out.println("Status: " + scenario.getStatus());
        System.out.println("=".repeat(50));
        
        // Take screenshot on failure
        if (scenario.isFailed()) {
            try {
                byte[] screenshot = ((TakesScreenshot) DriverManager.getDriver())
                    .getScreenshotAs(OutputType.BYTES);
                scenario.attach(screenshot, "image/png", "Failure Screenshot");
                System.out.println("├Ø Screenshot captured for failed scenario");
            } catch (Exception e) {
                System.out.println("Failed to capture screenshot: " + e.getMessage());
            }
        }
        
        // Cleanup test context
        if (testContext != null) {
            testContext.cleanup();
            testContext = null;
        }
        
        // Quit driver
        DriverManager.quitDriver();
    }
}
=== ./src/test/java/com/sqe/tests/runners/TestRunner.java ===
package com.sqe.tests.runners;

import io.cucumber.testng.AbstractTestNGCucumberTests;
import io.cucumber.testng.CucumberOptions;
import org.testng.annotations.DataProvider;

@CucumberOptions(
        features = "src/test/resources/features",
        glue = {"com.sqe.tests.stepdefinitions"},
        plugin = {
                "pretty",
                "html:target/cucumber-reports/cucumber.html",
                "json:target/cucumber-reports/cucumber.json",
                "junit:target/cucumber-reports/cucumber.xml",
                "io.qameta.allure.cucumber7jvm.AllureCucumber7Jvm"
        },
        monochrome = true,
        publish = true
)
public class TestRunner extends AbstractTestNGCucumberTests {

    @Override
    @DataProvider(parallel = false)
    public Object[][] scenarios() {
        return super.scenarios();
    }
}=== ./src/main/resources/sql/test_data.sql ===
=== ./src/main/resources/config/config.properties ===
# Application URL
base.url=https://www.saucedemo.com

# Browser Configuration
browser=chrome

headless=false
timeout=30
implicit.wait=10
page.load.timeout=30

# Database Configuration
db.host=localhost
db.port=3306
db.name=test_automation
db.username=root
db.password=root

# Redis Configuration
redis.host=localhost
redis.port=6379
redis.password=

# Test Data Files
testdata.excel.path=src/main/resources/testdata/testdata.xlsx
testdata.csv.path=src/main/resources/testdata/testdata.csv

# Screenshot Configuration
screenshot.on.failure=true
screenshot.path=screenshots/

# Reporting
allure.results.path=target/allure-results
report.title=UI Test Automation Framework Report
=== ./src/main/java/com/sqe/framework/base/DriverManager.java ===
package com.sqe.framework.base;

import com.sqe.framework.config.ConfigManager;
import io.github.bonigarcia.wdm.WebDriverManager;
import io.github.bonigarcia.wdm.config.DriverManagerType;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.chrome.ChromeDriver;
import org.openqa.selenium.chrome.ChromeOptions;
import org.openqa.selenium.edge.EdgeDriver;
import org.openqa.selenium.edge.EdgeOptions;
import org.openqa.selenium.firefox.FirefoxDriver;
import org.openqa.selenium.firefox.FirefoxOptions;
import org.openqa.selenium.firefox.FirefoxProfile;
import org.openqa.selenium.safari.SafariDriver;

import java.time.Duration;
import java.util.HashMap;
import java.util.Map;

public class DriverManager {
    
    private static ThreadLocal<WebDriver> driverThreadLocal = new ThreadLocal<>();
    
    public static WebDriver getDriver() {
        return driverThreadLocal.get();
    }
    
    public static void setDriver(WebDriver driver) {
        driverThreadLocal.set(driver);
    }
    
    public static void initializeDriver() {
        String browserType = ConfigManager.getInstance().getBrowser().toLowerCase();
        WebDriver driver = null;
        
        System.out.println("Initializing " + browserType.toUpperCase() + " browser...");
        
        switch (browserType) {
            case "chrome":
                driver = createChromeDriver();
                break;
            case "firefox":
                driver = createFirefoxDriver();
                break;
            case "edge":
                driver = createEdgeDriver();
                break;
            case "safari":
                driver = createSafariDriver();
                break;
            default:
                throw new IllegalArgumentException("Unsupported browser type: " + browserType);
        }
        
        configureDriver(driver);
        setDriver(driver);
        System.out.println("✅ " + browserType.toUpperCase() + " browser initialized successfully!");
    }
    
    private static WebDriver createChromeDriver() {
        WebDriverManager.getInstance(DriverManagerType.CHROME).setup();
        
        ChromeOptions options = new ChromeOptions();
        
        // COMPREHENSIVE approach to disable ALL password-related features
        Map<String, Object> prefs = new HashMap<>();
        
        // 1. Disable password manager completely
        prefs.put("credentials_enable_service", false);
        prefs.put("profile.password_manager_enabled", false);
        prefs.put("password_manager_enabled", false);
        
        // 2. Disable autofill
        prefs.put("autofill.profile_enabled", false);
        prefs.put("autofill.credit_card_enabled", false);
        prefs.put("autofill.address_enabled", false);
        
        // 3. CRITICAL: Disable password breach detection
        prefs.put("profile.password_manager_leak_detection", false);
        prefs.put("safebrowsing.enabled", false);
        prefs.put("safebrowsing.malware.enabled", false);
        prefs.put("safebrowsing.phishing.enabled", false);
        prefs.put("safebrowsing.downloads.enabled", false);
        
        // 4. Disable notifications and popups
        prefs.put("profile.default_content_setting_values.notifications", 2);
        prefs.put("profile.default_content_setting_values.popups", 2);
        
        // 5. Disable other privacy features that might trigger warnings
        prefs.put("enable_do_not_track", false);
        prefs.put("enable_referrers", false);
        
        options.setExperimentalOption("prefs", prefs);
        
        // Add ALL possible arguments to prevent password warnings
        options.addArguments("--disable-save-password-bubble");
        options.addArguments("--disable-infobars");
        options.addArguments("--disable-notifications");
        options.addArguments("--no-sandbox");
        options.addArguments("--disable-dev-shm-usage");
        options.addArguments("--window-size=1920,1080");
        options.addArguments("--start-maximized");
        options.addArguments("--disable-popup-blocking");
        
        // CRITICAL ARGUMENTS to prevent password breach warnings
        options.addArguments("--disable-password-manager-reauthentication");
        options.addArguments("--disable-password-strength-check");
        options.addArguments("--disable-features=PasswordLeakDetection");
        options.addArguments("--disable-features=SafeBrowsing");
        options.addArguments("--disable-features=ChromeWhatsNewUI");
        
        // Prevent automation detection
        options.addArguments("--disable-blink-features=AutomationControlled");
        options.setExperimentalOption("excludeSwitches", new String[]{"enable-automation"});
        options.setExperimentalOption("useAutomationExtension", false);
        
        // Use a clean profile to avoid any stored preferences
        options.addArguments("--user-data-dir=/tmp/chrome-test-profile");
        
        // Set binary path if specified in config
        String chromeBinaryPath = ConfigManager.getInstance().getProperty("chrome.binary.path");
        if (chromeBinaryPath != null && !chromeBinaryPath.isEmpty()) {
            options.setBinary(chromeBinaryPath);
        }
        
        if (ConfigManager.getInstance().isHeadless()) {
            options.addArguments("--headless=new");
        }
        
        return new ChromeDriver(options);
    }
    
    private static WebDriver createFirefoxDriver() {
        WebDriverManager.firefoxdriver().setup();
        
        FirefoxOptions options = new FirefoxOptions();
        
        // Simple profile - avoid complex settings
        FirefoxProfile profile = new FirefoxProfile();
        
        // Basic settings only
        profile.setPreference("signon.rememberSignons", false);
        profile.setPreference("signon.autofillForms", false);
        
        options.setProfile(profile);
        
        // Window size
        options.addArguments("--width=1920");
        options.addArguments("--height=1080");
        
        // Set binary path if specified
        String firefoxBinaryPath = ConfigManager.getInstance().getProperty("firefox.binary.path");
        if (firefoxBinaryPath != null && !firefoxBinaryPath.isEmpty()) {
            options.setBinary(firefoxBinaryPath);
        }
        
        if (ConfigManager.getInstance().isHeadless()) {
            options.addArguments("--headless");
        }
        
        return new FirefoxDriver(options);
    }
    
    private static WebDriver createEdgeDriver() {
        WebDriverManager.getInstance(DriverManagerType.EDGE).setup();
        
        EdgeOptions options = new EdgeOptions();
        options.addArguments("--disable-save-password-bubble");
        options.addArguments("--disable-notifications");
        options.addArguments("--start-maximized");
        
        // Set binary path if specified in config
        String edgeBinaryPath = ConfigManager.getInstance().getProperty("edge.binary.path");
        if (edgeBinaryPath != null && !edgeBinaryPath.isEmpty()) {
            options.setBinary(edgeBinaryPath);
        }
        
        if (ConfigManager.getInstance().isHeadless()) {
            options.addArguments("--headless");
        }
        
        return new EdgeDriver(options);
    }
    
    private static WebDriver createSafariDriver() {
        return new SafariDriver();
    }
    
    private static void configureDriver(WebDriver driver) {
        driver.manage().window().maximize();
        driver.manage().deleteAllCookies();
        
        int timeout = ConfigManager.getInstance().getTimeout();
        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(timeout));
        driver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(30));
        driver.manage().timeouts().scriptTimeout(Duration.ofSeconds(30));
    }
    
    public static void quitDriver() {
        WebDriver driver = getDriver();
        if (driver != null) {
            try {
                driver.quit();
                System.out.println("Browser closed successfully");
            } catch (Exception e) {
                System.err.println("Error closing browser: " + e.getMessage());
            }
            driverThreadLocal.remove();
        }
    }
}
=== ./src/main/java/com/sqe/framework/base/TestContext.java ===
package com.sqe.framework.base;

import com.sqe.framework.pages.*;
import com.sqe.framework.utils.*;
import org.openqa.selenium.WebDriver;

public class TestContext {
    
    private WebDriver driver;
    private LoginPage loginPage;
    private ProductsPage productsPage;
    private CartPage cartPage;
    private CheckoutPage checkoutPage;
    private CommonPage commonPage;
    private ExcelReader excelReader;
    private DatabaseManager dbManager;
    private RedisManager redisManager;
    
    public TestContext() {
        // Initialize driver
        this.driver = DriverManager.getDriver();
        
        // Initialize all pages
        this.loginPage = new LoginPage();
        this.productsPage = new ProductsPage();
        this.cartPage = new CartPage();
        this.checkoutPage = new CheckoutPage();
        this.commonPage = new CommonPage();
        
        // Initialize ExcelReader (REQUIRED)
        this.excelReader = new ExcelReader("testdata/testdata.xlsx");
        
        // Initialize DatabaseManager
        try {
            this.dbManager = new DatabaseManager();
            this.dbManager.createTestDatabase();
            System.out.println("✅ DatabaseManager initialized successfully");
        } catch (Exception e) {
            System.out.println("⚠️ DatabaseManager initialization failed: " + e.getMessage());
            this.dbManager = null;
        }
        
        // Initialize RedisManager (OPTIONAL)
        try {
            this.redisManager = new RedisManager();
            System.out.println("✅ RedisManager initialized");
        } catch (Exception e) {
            System.out.println("⚠️ RedisManager not available: " + e.getMessage());
            this.redisManager = null;
        }
    }
    
    // Getters
    public WebDriver getDriver() {
        return driver;
    }
    
    public LoginPage getLoginPage() {
        return loginPage;
    }
    
    public ProductsPage getProductsPage() {
        return productsPage;
    }
    
    public CartPage getCartPage() {
        return cartPage;
    }
    
    public CheckoutPage getCheckoutPage() {
        return checkoutPage;
    }
    
    public CommonPage getCommonPage() {
        return commonPage;
    }
    
    public ExcelReader getExcelReader() {
        return excelReader;
    }
    
    public DatabaseManager getDatabaseManager() {
        return dbManager;
    }
    
    public RedisManager getRedisManager() {
        return redisManager;
    }
    
    public void cleanup() {
        if (excelReader != null) {
            excelReader.close();
        }
        if (dbManager != null) {
            dbManager.close();
        }
        if (redisManager != null) {
            RedisManager.close();
        }
    }
}
=== ./src/main/java/com/sqe/framework/base/BaseTest.java ===
package com.sqe.framework.base;

import com.sqe.framework.config.ConfigManager;
import com.sqe.framework.pages.*;
import com.sqe.framework.utils.*;
import io.qameta.allure.Allure;
import org.openqa.selenium.OutputType;
import org.openqa.selenium.TakesScreenshot;
import org.testng.ITestResult;
import org.testng.annotations.AfterMethod;
import org.testng.annotations.BeforeMethod;

import java.io.ByteArrayInputStream;
import java.lang.reflect.Method;

public class BaseTest {

    protected LoginPage loginPage;
    protected ProductsPage productsPage;
    protected CartPage cartPage;
    protected CheckoutPage checkoutPage;
    protected CommonPage commonPage;
    protected ExcelReader excelReader;
    protected DatabaseManager dbManager;

    @BeforeMethod
    public void setUp(Method method) {
        // Initialize driver
        DriverManager.initializeDriver();

        // Initialize pages
        loginPage = new LoginPage();
        productsPage = new ProductsPage();
        cartPage = new CartPage();
        checkoutPage = new CheckoutPage();
        commonPage = new CommonPage();

        // Initialize utilities
        excelReader = new ExcelReader("src/main/resources/testdata/testdata.xlsx");
        dbManager = new DatabaseManager();

        // Navigate to base URL
        DriverManager.getDriver().get(ConfigManager.getInstance().getBaseUrl());

        // Add test name to Allure
        Allure.description("Test: " + method.getName());
    }

    @AfterMethod
    public void tearDown(ITestResult result) {
        // Take screenshot on failure
        if (result.getStatus() == ITestResult.FAILURE &&
                ConfigManager.getInstance().takeScreenshotOnFailure()) {
            takeScreenshotForAllure(result.getName());
        }

        // Close connections
        if (excelReader != null) {
            excelReader.close();
        }
        if (dbManager != null) {
            dbManager.close();
        }

        // Quit driver
        DriverManager.quitDriver();
    }

    private void takeScreenshotForAllure(String testName) {
        try {
            byte[] screenshot = ((TakesScreenshot) DriverManager.getDriver())
                    .getScreenshotAs(OutputType.BYTES);
            Allure.addAttachment(testName + " - Failure Screenshot",
                    new ByteArrayInputStream(screenshot));
        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    // Helper methods for common operations
    public void loginWithCredentials(String username, String password) {
        loginPage.enterUsername(username);
        loginPage.enterPassword(password);
        loginPage.clickLogin();
    }

    public void addProductToCart(int productIndex) {
        productsPage.addProductToCart(productIndex);
    }

    public void goToCart() {
        productsPage.clickCartIcon();
    }

    public void completePurchase(String firstName, String lastName, String postalCode) {
        cartPage.clickCheckout();
        checkoutPage.fillCheckoutForm(firstName, lastName, postalCode);
        checkoutPage.clickContinue();
        checkoutPage.clickFinish();
    }
}=== ./src/main/java/com/sqe/framework/base/BasePage.java ===
package com.sqe.framework.base;

import com.sqe.framework.utils.ScreenshotUtils;

import java.time.Duration;
import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.JavascriptExecutor;
import org.openqa.selenium.TimeoutException;
import org.openqa.selenium.support.PageFactory;
import org.openqa.selenium.support.ui.ExpectedConditions;
import org.openqa.selenium.support.ui.WebDriverWait;

public class BasePage {

    protected WebDriver driver;
    protected WebDriverWait wait;
    protected JavascriptExecutor js;

    public BasePage() {
        this.driver = DriverManager.getDriver();
        this.wait = new WebDriverWait(driver, Duration.ofSeconds(30));
        this.js = (JavascriptExecutor) driver;
        PageFactory.initElements(driver, this);
    }

    protected void click(By locator) {
        wait.until(ExpectedConditions.elementToBeClickable(locator)).click();
    }

    protected void click(WebElement element) {
        wait.until(ExpectedConditions.elementToBeClickable(element)).click();
    }

    protected void sendKeys(By locator, String text) {
        WebElement element = wait.until(ExpectedConditions.visibilityOfElementLocated(locator));
        element.clear();
        element.sendKeys(text);
    }

    protected void sendKeys(WebElement element, String text) {
        wait.until(ExpectedConditions.visibilityOf(element));
        element.clear();
        element.sendKeys(text);
    }

    protected String getText(By locator) {
        return wait.until(ExpectedConditions.visibilityOfElementLocated(locator)).getText();
    }

    protected String getText(WebElement element) {
        return wait.until(ExpectedConditions.visibilityOf(element)).getText();
    }

    protected boolean isDisplayed(By locator) {
        try {
            return wait.until(ExpectedConditions.visibilityOfElementLocated(locator)).isDisplayed();
        } catch (TimeoutException e) {
            return false;
        }
    }

    protected boolean isDisplayed(WebElement element) {
        try {
            return wait.until(ExpectedConditions.visibilityOf(element)).isDisplayed();
        } catch (TimeoutException e) {
            return false;
        }
    }

    protected void waitForVisibility(By locator) {
        wait.until(ExpectedConditions.visibilityOfElementLocated(locator));
    }

    protected void waitForVisibility(WebElement element) {
        wait.until(ExpectedConditions.visibilityOf(element));
    }

    protected void waitForInvisibility(By locator) {
        wait.until(ExpectedConditions.invisibilityOfElementLocated(locator));
    }

    protected void scrollToElement(WebElement element) {
        js.executeScript("arguments[0].scrollIntoView(true);", element);
    }

    protected void takeScreenshot(String testName) {
        ScreenshotUtils.takeScreenshot(driver, testName);
    }

    public void navigateTo(String url) {
        driver.get(url);
    }

    public String getCurrentUrl() {
        return driver.getCurrentUrl();
    }

    public String getTitle() {
        return driver.getTitle();
    }
}=== ./src/main/java/com/sqe/framework/listeners/TestListener.java ===
package com.sqe.framework.listeners;

import com.sqe.framework.base.DriverManager;
import com.sqe.framework.utils.ScreenshotUtils;
import io.qameta.allure.Allure;
import org.testng.ITestContext;
import org.testng.ITestListener;
import org.testng.ITestResult;

import java.io.ByteArrayInputStream;

public class TestListener implements ITestListener {

    @Override
    public void onTestStart(ITestResult result) {
        System.out.println("Test Started: " + result.getName());
        Allure.description("Test Method: " + result.getName());
    }

    @Override
    public void onTestSuccess(ITestResult result) {
        System.out.println("Test Passed: " + result.getName());
        attachScreenshot("Success - " + result.getName());
    }

    @Override
    public void onTestFailure(ITestResult result) {
        System.out.println("Test Failed: " + result.getName());
        attachScreenshot("Failure - " + result.getName());

        // Log the exception
        if (result.getThrowable() != null) {
            Allure.addAttachment("Stack Trace", "text/plain",
                    result.getThrowable().toString());
        }
    }

    @Override
    public void onTestSkipped(ITestResult result) {
        System.out.println("Test Skipped: " + result.getName());
    }

    @Override
    public void onStart(ITestContext context) {
        System.out.println("Test Suite Started: " + context.getName());
    }

    @Override
    public void onFinish(ITestContext context) {
        System.out.println("Test Suite Finished: " + context.getName());
    }

    private void attachScreenshot(String screenshotName) {
        try {
            if (DriverManager.getDriver() != null) {
                // Cast to TakesScreenshot
                org.openqa.selenium.TakesScreenshot takesScreenshot =
                        (org.openqa.selenium.TakesScreenshot) DriverManager.getDriver();
                byte[] screenshot = takesScreenshot.getScreenshotAs(
                        org.openqa.selenium.OutputType.BYTES);
                Allure.addAttachment(screenshotName,
                        new ByteArrayInputStream(screenshot));
            }
        } catch (Exception e) {
            System.out.println("Failed to attach screenshot: " + e.getMessage());
        }
    }
}=== ./src/main/java/com/sqe/framework/factory/BrowserFactory.java ===
package com.sqe.framework.factory;

import com.sqe.framework.config.ConfigManager;
import io.github.bonigarcia.wdm.WebDriverManager;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.chrome.ChromeDriver;
import org.openqa.selenium.chrome.ChromeOptions;
import org.openqa.selenium.edge.EdgeDriver;
import org.openqa.selenium.edge.EdgeOptions;
import org.openqa.selenium.firefox.FirefoxDriver;
import org.openqa.selenium.firefox.FirefoxOptions;
import org.openqa.selenium.firefox.FirefoxProfile;

import java.util.HashMap;
import java.util.Map;

public class BrowserFactory {
    
    public enum BrowserType {
        CHROME,
        FIREFOX,
        EDGE,
        SAFARI
    }
    
    public static WebDriver createDriver(BrowserType browserType, boolean headless) {
        switch (browserType) {
            case CHROME:
                return createChromeDriver(headless);
            case FIREFOX:
                return createFirefoxDriver(headless);
            case EDGE:
                return createEdgeDriver(headless);
            case SAFARI:
                return createSafariDriver();
            default:
                throw new IllegalArgumentException("Unsupported browser type: " + browserType);
        }
    }
    
    public static WebDriver createDriverFromConfig() {
        String browserName = ConfigManager.getInstance().getBrowser().toUpperCase();
        boolean headless = ConfigManager.getInstance().isHeadless();
        
        try {
            BrowserType browserType = BrowserType.valueOf(browserName);
            return createDriver(browserType, headless);
        } catch (IllegalArgumentException e) {
            System.err.println("Invalid browser type in config: " + browserName);
            System.err.println("Defaulting to FIREFOX");
            return createDriver(BrowserType.FIREFOX, headless);
        }
    }
    
    private static WebDriver createChromeDriver(boolean headless) {
        WebDriverManager.chromedriver().setup();
        
        ChromeOptions options = new ChromeOptions();
        Map<String, Object> prefs = new HashMap<>();
        prefs.put("credentials_enable_service", false);
        prefs.put("profile.password_manager_enabled", false);
        prefs.put("profile.default_content_setting_values.notifications", 2);
        options.setExperimentalOption("prefs", prefs);
        
        options.addArguments("--disable-save-password-bubble");
        options.addArguments("--disable-infobars");
        options.addArguments("--disable-notifications");
        options.addArguments("--no-sandbox");
        options.addArguments("--disable-dev-shm-usage");
        options.addArguments("--window-size=1920,1080");
        options.addArguments("--start-maximized");
        
        if (headless) {
            options.addArguments("--headless=new");
        }
        
        return new ChromeDriver(options);
    }
    
    private static WebDriver createFirefoxDriver(boolean headless) {
        WebDriverManager.firefoxdriver().setup();
        
        FirefoxOptions options = new FirefoxOptions();
        FirefoxProfile profile = new FirefoxProfile();
        
        profile.setPreference("signon.rememberSignons", false);
        profile.setPreference("signon.autofillForms", false);
        profile.setPreference("browser.download.folderList", 2);
        profile.setPreference("browser.download.dir", System.getProperty("user.dir") + "/downloads");
        
        options.setProfile(profile);
        options.addArguments("--width=1920");
        options.addArguments("--height=1080");
        
        if (headless) {
            options.addArguments("--headless");
        }
        
        return new FirefoxDriver(options);
    }
    
    private static WebDriver createEdgeDriver(boolean headless) {
        WebDriverManager.edgedriver().setup();
        
        EdgeOptions options = new EdgeOptions();
        options.addArguments("--disable-save-password-bubble");
        options.addArguments("--disable-notifications");
        options.addArguments("--start-maximized");
        
        if (headless) {
            options.addArguments("--headless");
        }
        
        return new EdgeDriver(options);
    }
    
    private static WebDriver createSafariDriver() {
        // Note: Safari requires manual setup on macOS
        return new org.openqa.selenium.safari.SafariDriver();
    }
}
=== ./src/main/java/com/sqe/framework/pages/CommonPage.java ===
package com.sqe.framework.pages;

import com.sqe.framework.base.BasePage;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.support.FindBy;
import org.openqa.selenium.support.PageFactory;
import org.openqa.selenium.support.ui.ExpectedConditions;
import java.util.List;

public class CommonPage extends BasePage {

    // Locators
    @FindBy(tagName = "a")
    private List<WebElement> allLinks;

    @FindBy(tagName = "img")
    private List<WebElement> allImages;

    @FindBy(id = "react-burger-menu-btn")
    private WebElement menuButton;

    @FindBy(id = "inventory_sidebar_link")
    private WebElement allItemsLink;

    @FindBy(id = "about_sidebar_link")
    private WebElement aboutLink;

    @FindBy(id = "logout_sidebar_link")
    private WebElement logoutLink;

    @FindBy(id = "reset_sidebar_link")
    private WebElement resetLink;

    @FindBy(className = "bm-cross-button")
    private WebElement closeMenuButton;

    @FindBy(className = "footer")
    private WebElement footer;

    @FindBy(className = "footer_copy")
    private WebElement footerText;

    @FindBy(className = "social_twitter")
    private WebElement twitterLink;

    @FindBy(className = "social_facebook")
    private WebElement facebookLink;

    @FindBy(className = "social_linkedin")
    private WebElement linkedinLink;

    // Constructor
    public CommonPage() {
        PageFactory.initElements(driver, this);
    }

    // Page Actions - FIXED
    public int getTotalLinks() {
        try {
            wait.until(ExpectedConditions.visibilityOfAllElements(allLinks));
            return allLinks.size();
        } catch (Exception e) {
            return 0;
        }
    }

    public int getTotalImages() {
        try {
            wait.until(ExpectedConditions.visibilityOfAllElements(allImages));
            return allImages.size();
        } catch (Exception e) {
            return 0;
        }
    }

    public void openMenu() {
        click(menuButton);
        wait.until(ExpectedConditions.visibilityOf(allItemsLink));
    }

    public void closeMenu() {
        click(closeMenuButton);
        wait.until(ExpectedConditions.invisibilityOf(allItemsLink));
    }

    public void clickAllItems() {
        click(allItemsLink);
    }

    public void clickAbout() {
        click(aboutLink);
    }

    public void clickLogout() {
        click(logoutLink);
    }

    public void clickReset() {
        click(resetLink);
    }

    public String getFooterText() {
        try {
            return getText(footerText);
        } catch (Exception e) {
            return "";
        }
    }

    public boolean isFooterDisplayed() {
        try {
            return isDisplayed(footer);
        } catch (Exception e) {
            return false;
        }
    }

    public void clickTwitterLink() {
        click(twitterLink);
    }

    public void clickFacebookLink() {
        click(facebookLink);
    }

    public void clickLinkedinLink() {
        click(linkedinLink);
    }

    public String getPageTitle() {
        return driver.getTitle();
    }

    public String getCurrentUrl() {
        return driver.getCurrentUrl();
    }

    public void navigateBack() {
        driver.navigate().back();
    }

    public void navigateForward() {
        driver.navigate().forward();
    }

    public void refreshPage() {
        driver.navigate().refresh();
    }
}
=== ./src/main/java/com/sqe/framework/pages/LoginPage.java ===
package com.sqe.framework.pages;

import com.sqe.framework.base.BasePage;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.support.FindBy;
import org.openqa.selenium.support.PageFactory;
import org.openqa.selenium.support.ui.ExpectedConditions;

public class LoginPage extends BasePage {
    
    @FindBy(id = "user-name")
    private WebElement usernameField;
    
    @FindBy(id = "password")
    private WebElement passwordField;
    
    @FindBy(id = "login-button")
    private WebElement loginButton;
    
    @FindBy(css = "[data-test='error']")
    private WebElement errorMessage;
    
    @FindBy(className = "login_logo")
    private WebElement loginLogo;
    
    public LoginPage() {
        PageFactory.initElements(driver, this);
    }
    
    public void navigateToLoginPage() {
        navigateTo("https://www.saucedemo.com/");
        wait.until(ExpectedConditions.titleContains("Swag Labs"));
    }
    
    public void enterUsername(String username) {
        waitForVisibility(usernameField);
        sendKeys(usernameField, username);
    }
    
    public void enterPassword(String password) {
        waitForVisibility(passwordField);
        sendKeys(passwordField, password);
    }
    
    public void clickLogin() {
        click(loginButton);
    }
    
    public void login(String username, String password) {
        System.out.println("Logging in with: " + username);
        enterUsername(username);
        enterPassword(password);
        clickLogin();
        
        // Simple wait for login to complete
        wait.until(d -> {
            String currentUrl = driver.getCurrentUrl();
            return currentUrl.contains("inventory") || isErrorMessageDisplayed();
        });
    }
    
    public boolean isLoginPageDisplayed() {
        try {
            return loginLogo.isDisplayed();
        } catch (Exception e) {
            return false;
        }
    }
    
    public boolean isErrorMessageDisplayed() {
        try {
            return errorMessage.isDisplayed();
        } catch (Exception e) {
            return false;
        }
    }
    
    public String getErrorMessage() {
        try {
            return errorMessage.getText();
        } catch (Exception e) {
            return "";
        }
    }
}
=== ./src/main/java/com/sqe/framework/pages/ProductsPage.java ===
package com.sqe.framework.pages;

import com.sqe.framework.base.BasePage;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.support.FindBy;
import org.openqa.selenium.support.PageFactory;
import org.openqa.selenium.support.ui.ExpectedConditions;
import java.util.List;

public class ProductsPage extends BasePage {
    
    @FindBy(className = "title")
    private WebElement productsTitle;
    
    @FindBy(className = "inventory_item")
    private List<WebElement> productItems;
    
    @FindBy(css = ".btn.btn_primary.btn_small.btn_inventory")
    private List<WebElement> addToCartButtons;
    
    @FindBy(css = ".btn.btn_secondary.btn_small.btn_inventory")
    private List<WebElement> removeButtons;
    
    @FindBy(className = "shopping_cart_link")
    private WebElement cartIcon;
    
    @FindBy(className = "shopping_cart_badge")
    private WebElement cartBadge;
    
    @FindBy(id = "react-burger-menu-btn")
    private WebElement menuButton;
    
    @FindBy(id = "logout_sidebar_link")
    private WebElement logoutLink;
    
    public ProductsPage() {
        PageFactory.initElements(driver, this);
    }
    
    public boolean isProductsPageDisplayed() {
        try {
            return productsTitle.isDisplayed() && 
                   productsTitle.getText().equals("Products");
        } catch (Exception e) {
            return false;
        }
    }
    
    public int getProductCount() {
        return productItems.size();
    }
    
    public void addProductToCart(int index) {
        if (index >= 0 && index < addToCartButtons.size()) {
            addToCartButtons.get(index).click();
        }
    }
    
    public void removeProductFromCart(int index) {
        if (index >= 0 && index < removeButtons.size()) {
            removeButtons.get(index).click();
        }
    }
    
    public boolean isProductAddedToCart(int index) {
        if (index >= 0 && index < removeButtons.size()) {
            return removeButtons.get(index).isDisplayed();
        }
        return false;
    }
    
    public void clickCartIcon() {
        cartIcon.click();
    }
    
    public int getCartItemCount() {
        try {
            return Integer.parseInt(cartBadge.getText());
        } catch (Exception e) {
            return 0;
        }
    }
    
    // Add the missing logout method
    public void logout() {
        try {
            menuButton.click();
            Thread.sleep(1000); // Wait for menu to open
            logoutLink.click();
        } catch (Exception e) {
            System.out.println("Logout failed: " + e.getMessage());
        }
    }
}
=== ./src/main/java/com/sqe/framework/pages/CartPage.java ===
package com.sqe.framework.pages;

import com.sqe.framework.base.BasePage;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.support.FindBy;
import org.openqa.selenium.support.PageFactory;
import org.openqa.selenium.support.ui.ExpectedConditions;
import java.util.List;

public class CartPage extends BasePage {

    // Correct locators for SauceDemo cart page
    @FindBy(className = "title")
    private WebElement cartTitle;
    
    @FindBy(className = "cart_item")
    private List<WebElement> cartItems;
    
    @FindBy(className = "inventory_item_name")
    private List<WebElement> cartItemNames;
    
    @FindBy(className = "inventory_item_price")
    private List<WebElement> cartItemPrices;
    
    @FindBy(className = "cart_quantity")
    private List<WebElement> cartQuantities;
    
    @FindBy(xpath = "//button[contains(text(), 'Remove')]")
    private List<WebElement> removeButtons;
    
    @FindBy(id = "checkout")
    private WebElement checkoutButton;
    
    @FindBy(id = "continue-shopping")
    private WebElement continueShoppingButton;
    
    // Constructor
    public CartPage() {
        PageFactory.initElements(driver, this);
    }
    
    // Page Actions - FIXED
    public boolean isCartPageDisplayed() {
        try {
            wait.until(ExpectedConditions.urlContains("cart"));
            boolean titleVisible = wait.until(ExpectedConditions.visibilityOf(cartTitle)).isDisplayed();
            String titleText = cartTitle.getText();
            System.out.println("Cart page title: " + titleText);
            return titleVisible && (titleText.equalsIgnoreCase("Your Cart") || 
                                  titleText.contains("Cart"));
        } catch (Exception e) {
            System.out.println("Cart page check failed: " + e.getMessage());
            return false;
        }
    }
    
    public int getCartItemsCount() {
        try {
            wait.until(ExpectedConditions.visibilityOfAllElements(cartItems));
            return cartItems.size();
        } catch (Exception e) {
            return 0;
        }
    }
    
    public String getCartItemName(int index) {
        if (index >= 0 && index < cartItemNames.size()) {
            return cartItemNames.get(index).getText();
        }
        return "";
    }
    
    public String getCartItemPrice(int index) {
        if (index >= 0 && index < cartItemPrices.size()) {
            return cartItemPrices.get(index).getText();
        }
        return "";
    }
    
    public String getCartItemQuantity(int index) {
        if (index >= 0 && index < cartQuantities.size()) {
            return cartQuantities.get(index).getText();
        }
        return "";
    }
    
    public void removeItemFromCart(int index) {
        if (index >= 0 && index < removeButtons.size()) {
            wait.until(ExpectedConditions.elementToBeClickable(removeButtons.get(index)));
            click(removeButtons.get(index));
        }
    }
    
    public void clickCheckout() {
        wait.until(ExpectedConditions.elementToBeClickable(checkoutButton));
        click(checkoutButton);
    }
    
    public void clickContinueShopping() {
        wait.until(ExpectedConditions.elementToBeClickable(continueShoppingButton));
        click(continueShoppingButton);
    }
    
    public boolean isCartEmpty() {
        try {
            // Check if cart items exist
            return cartItems.size() == 0;
        } catch (Exception e) {
            return true;
        }
    }
    
    public boolean isItemInCart(String itemName) {
        try {
            for (WebElement itemNameElement : cartItemNames) {
                if (itemNameElement.getText().equalsIgnoreCase(itemName)) {
                    return true;
                }
            }
            return false;
        } catch (Exception e) {
            return false;
        }
    }
    
    public void proceedToCheckout() {
        clickCheckout();
    }
}
=== ./src/main/java/com/sqe/framework/pages/CheckoutPage.java ===
package com.sqe.framework.pages;

import com.sqe.framework.base.BasePage;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.support.FindBy;
import org.openqa.selenium.support.PageFactory;
import org.openqa.selenium.support.ui.ExpectedConditions;

public class CheckoutPage extends BasePage {

    // Correct locators for SauceDemo checkout
    // Step 1: Your Information
    @FindBy(className = "title")
    private WebElement checkoutTitle;
    
    @FindBy(id = "first-name")
    private WebElement firstNameField;
    
    @FindBy(id = "last-name")
    private WebElement lastNameField;
    
    @FindBy(id = "postal-code")
    private WebElement postalCodeField;
    
    @FindBy(id = "continue")
    private WebElement continueButton;
    
    @FindBy(id = "cancel")
    private WebElement cancelButton;
    
    @FindBy(css = "[data-test='error']")
    private WebElement errorMessage;
    
    // Step 2: Overview
    @FindBy(className = "summary_subtotal_label")
    private WebElement itemTotalLabel;
    
    @FindBy(className = "summary_tax_label")
    private WebElement taxLabel;
    
    @FindBy(className = "summary_total_label")
    private WebElement totalLabel;
    
    @FindBy(id = "finish")
    private WebElement finishButton;
    
    @FindBy(id = "cancel")
    private WebElement cancelCheckoutButton;
    
    // Step 3: Complete
    @FindBy(className = "complete-header")
    private WebElement thankYouMessage;
    
    @FindBy(className = "complete-text")
    private WebElement orderDispatchMessage;
    
    @FindBy(id = "back-to-products")
    private WebElement backHomeButton;
    
    // Constructor
    public CheckoutPage() {
        PageFactory.initElements(driver, this);
    }
    
    // Page Actions - FIXED
    public boolean isCheckoutStepOneDisplayed() {
        try {
            wait.until(ExpectedConditions.urlContains("checkout-step-one"));
            boolean titleVisible = wait.until(ExpectedConditions.visibilityOf(checkoutTitle)).isDisplayed();
            String titleText = checkoutTitle.getText();
            System.out.println("Checkout step 1 title: " + titleText);
            return titleVisible && titleText.contains("Checkout");
        } catch (Exception e) {
            return false;
        }
    }
    
    public void enterFirstName(String firstName) {
        waitForVisibility(firstNameField);
        sendKeys(firstNameField, firstName);
    }
    
    public void enterLastName(String lastName) {
        waitForVisibility(lastNameField);
        sendKeys(lastNameField, lastName);
    }
    
    public void enterPostalCode(String postalCode) {
        waitForVisibility(postalCodeField);
        sendKeys(postalCodeField, postalCode);
    }
    
    public void fillCheckoutForm(String firstName, String lastName, String postalCode) {
        enterFirstName(firstName);
        enterLastName(lastName);
        enterPostalCode(postalCode);
    }
    
    public void clickContinue() {
        wait.until(ExpectedConditions.elementToBeClickable(continueButton));
        click(continueButton);
    }
    
    public void clickCancel() {
        wait.until(ExpectedConditions.elementToBeClickable(cancelButton));
        click(cancelButton);
    }
    
    public boolean isCheckoutStepTwoDisplayed() {
        try {
            wait.until(ExpectedConditions.urlContains("checkout-step-two"));
            return wait.until(ExpectedConditions.visibilityOf(itemTotalLabel)).isDisplayed();
        } catch (Exception e) {
            return false;
        }
    }
    
    public String getItemTotal() {
        try {
            return getText(itemTotalLabel);
        } catch (Exception e) {
            return "";
        }
    }
    
    public String getTax() {
        try {
            return getText(taxLabel);
        } catch (Exception e) {
            return "";
        }
    }
    
    public String getTotal() {
        try {
            return getText(totalLabel);
        } catch (Exception e) {
            return "";
        }
    }
    
    public void clickFinish() {
        wait.until(ExpectedConditions.elementToBeClickable(finishButton));
        click(finishButton);
    }
    
    public boolean isOrderCompleteDisplayed() {
        try {
            wait.until(ExpectedConditions.urlContains("checkout-complete"));
            return wait.until(ExpectedConditions.visibilityOf(thankYouMessage)).isDisplayed();
        } catch (Exception e) {
            return false;
        }
    }
    
    public String getThankYouMessage() {
        try {
            return getText(thankYouMessage);
        } catch (Exception e) {
            return "";
        }
    }
    
    public String getOrderDispatchMessage() {
        try {
            return getText(orderDispatchMessage);
        } catch (Exception e) {
            return "";
        }
    }
    
    public void clickBackHome() {
        wait.until(ExpectedConditions.elementToBeClickable(backHomeButton));
        click(backHomeButton);
    }
    
    public boolean isErrorMessageDisplayed() {
        try {
            return wait.until(ExpectedConditions.visibilityOf(errorMessage)).isDisplayed();
        } catch (Exception e) {
            return false;
        }
    }
    
    public String getErrorMessage() {
        try {
            return getText(errorMessage);
        } catch (Exception e) {
            return "";
        }
    }
    
    public void completeCheckout(String firstName, String lastName, String postalCode) {
        fillCheckoutForm(firstName, lastName, postalCode);
        clickContinue();
        clickFinish();
    }
}
=== ./src/main/java/com/sqe/framework/config/ConfigManager.java ===
package com.sqe.framework.config;

import java.io.InputStream;
import java.util.Properties;

public class ConfigManager {

    private static ConfigManager instance;
    private Properties properties;

    private ConfigManager() {
        properties = new Properties();
        loadProperties();
    }

    public static ConfigManager getInstance() {
        if (instance == null) {
            instance = new ConfigManager();
        }
        return instance;
    }

    private void loadProperties() {
        try {
            // Load from classpath
            InputStream inputStream = getClass().getClassLoader()
                    .getResourceAsStream("config/config.properties");

            if (inputStream == null) {
                throw new RuntimeException("Configuration file not found: config/config.properties");
            }

            properties.load(inputStream);
            inputStream.close();

            // Set default values if properties are missing
            setDefaultProperties();

        } catch (Exception e) {
            System.err.println("Failed to load configuration file. Using default values.");
            e.printStackTrace();
            setDefaultProperties();
        }
    }

    private void setDefaultProperties() {
        // Set default values
        properties.putIfAbsent("base.url", "https://www.saucedemo.com");
        properties.putIfAbsent("browser", "chrome");
        properties.putIfAbsent("headless", "false");
        properties.putIfAbsent("timeout", "30");
        properties.putIfAbsent("implicit.wait", "10");
        properties.putIfAbsent("screenshot.on.failure", "true");
        properties.putIfAbsent("screenshot.path", "screenshots/");
    }

    public String getProperty(String key) {
        return properties.getProperty(key);
    }

    public String getBrowser() {
        return getProperty("browser");
    }

    public String getBaseUrl() {
        return getProperty("base.url");
    }

    public boolean isHeadless() {
        return Boolean.parseBoolean(getProperty("headless"));
    }

    public int getTimeout() {
        return Integer.parseInt(getProperty("timeout"));
    }

    public String getScreenshotPath() {
        return getProperty("screenshot.path");
    }

    public boolean takeScreenshotOnFailure() {
        return Boolean.parseBoolean(getProperty("screenshot.on.failure"));
    }
}=== ./src/main/java/com/sqe/framework/config/Constants.java ===
package com.sqe.framework.config;

public class Constants {

    // Browser Types
    public static final String CHROME = "chrome";
    public static final String FIREFOX = "firefox";
    public static final String EDGE = "edge";
    public static final String SAFARI = "safari";

    // Configuration File
    public static final String CONFIG_FILE = "config/config.properties";

    // Timeouts
    public static final int DEFAULT_TIMEOUT = 30;
    public static final int IMPLICIT_WAIT = 10;
    public static final int PAGE_LOAD_TIMEOUT = 30;

    // Test Data Sheets
    public static final String LOGIN_SHEET = "Login";
    public static final String PRODUCTS_SHEET = "Products";
    public static final String USERS_SHEET = "Users";

    // Paths
    public static final String SCREENSHOT_PATH = "screenshots/";
    public static final String TEST_DATA_PATH = "src/main/resources/testdata/";

    // Database
    public static final String DB_URL = "jdbc:mysql://localhost:3306/test_automation";
    public static final String DB_USER = "root";
    public static final String DB_PASSWORD = "password";

    // URLs
    public static final String BASE_URL = "https://www.saucedemo.com";
    public static final String LOGIN_URL = BASE_URL + "/";
    public static final String PRODUCTS_URL = BASE_URL + "/inventory.html";
    public static final String CART_URL = BASE_URL + "/cart.html";
    public static final String CHECKOUT_URL = BASE_URL + "/checkout-step-one.html";

    // File Paths
    public static final String TEST_DATA_EXCEL = "testdata/testdata.xlsx";

}
=== ./src/main/java/com/sqe/framework/enums/BrowserType.java ===
package com.sqe.framework.enums;

public enum BrowserType {
    CHROME,
    FIREFOX,
    EDGE,
    SAFARI
}=== ./src/main/java/com/sqe/framework/utils/CustomFileUtils.java ===
package com.sqe.framework.utils;

import org.apache.commons.io.FileUtils;

import java.io.File;
import java.io.IOException;
import java.nio.charset.StandardCharsets;
import java.nio.file.Files;
import java.nio.file.Paths;
import java.util.List;

public class CustomFileUtils {

    public static String readFileAsString(String filePath) {
        try {
            return new String(Files.readAllBytes(Paths.get(filePath)),
                    StandardCharsets.UTF_8);
        } catch (IOException e) {
            e.printStackTrace();
            return "";
        }
    }

    public static List<String> readFileAsLines(String filePath) {
        try {
            return Files.readAllLines(Paths.get(filePath),
                    StandardCharsets.UTF_8);
        } catch (IOException e) {
            e.printStackTrace();
            return java.util.Collections.emptyList();
        }
    }

    public static void writeToFile(String filePath, String content) {
        try {
            Files.write(Paths.get(filePath),
                    content.getBytes(StandardCharsets.UTF_8));
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    public static void copyFile(String sourcePath, String destinationPath) {
        try {
            FileUtils.copyFile(
                    new File(sourcePath),
                    new File(destinationPath)
            );
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    public static void createDirectory(String directoryPath) {
        File directory = new File(directoryPath);
        if (!directory.exists()) {
            directory.mkdirs();
        }
    }

    public static boolean fileExists(String filePath) {
        return Files.exists(Paths.get(filePath));
    }

    public static void deleteFile(String filePath) {
        try {
            Files.deleteIfExists(Paths.get(filePath));
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    public static String getFileExtension(String fileName) {
        int dotIndex = fileName.lastIndexOf('.');
        if (dotIndex > 0 && dotIndex < fileName.length() - 1) {
            return fileName.substring(dotIndex + 1).toLowerCase();
        }
        return "";
    }
}=== ./src/main/java/com/sqe/framework/utils/DebugUtils.java ===
package com.sqe.framework.utils;

import com.sqe.framework.base.DriverManager;
import org.openqa.selenium.By;
import org.openqa.selenium.WebElement;
import java.util.List;

public class DebugUtils {
    
    public static void printPageInfo() {
        System.out.println("\n=== PAGE DEBUG INFO ===");
        System.out.println("Title: " + DriverManager.getDriver().getTitle());
        System.out.println("URL: " + DriverManager.getDriver().getCurrentUrl());
        System.out.println("Page Source Length: " + DriverManager.getDriver().getPageSource().length());
        
        // Count elements
        List<WebElement> allElements = DriverManager.getDriver().findElements(By.cssSelector("*"));
        System.out.println("Total elements on page: " + allElements.size());
        
        // Count specific elements
        System.out.println("Input fields: " + DriverManager.getDriver().findElements(By.tagName("input")).size());
        System.out.println("Buttons: " + DriverManager.getDriver().findElements(By.tagName("button")).size());
        System.out.println("Links: " + DriverManager.getDriver().findElements(By.tagName("a")).size());
        System.out.println("Images: " + DriverManager.getDriver().findElements(By.tagName("img")).size());
        
        System.out.println("=== END DEBUG INFO ===\n");
    }
    
    public static void findElementByText(String text) {
        System.out.println("\n=== SEARCHING FOR TEXT: '" + text + "' ===");
        
        try {
            // Try different methods
            List<WebElement> elements = DriverManager.getDriver().findElements(
                By.xpath("//*[contains(text(), '" + text + "')]"));
            
            System.out.println("Found " + elements.size() + " elements containing text");
            
            for (int i = 0; i < elements.size(); i++) {
                WebElement element = elements.get(i);
                System.out.println("Element " + i + ":");
                System.out.println("  Tag: " + element.getTagName());
                System.out.println("  Text: " + element.getText());
                System.out.println("  Visible: " + element.isDisplayed());
            }
        } catch (Exception e) {
            System.out.println("Error searching for text: " + e.getMessage());
        }
        
        System.out.println("=== END SEARCH ===\n");
    }
}
=== ./src/main/java/com/sqe/framework/utils/WaitUtils.java ===
package com.sqe.framework.utils;

import org.openqa.selenium.*;
import org.openqa.selenium.support.ui.*;
import java.time.Duration;

public class WaitUtils {

    public static WebElement waitForElementVisible(WebDriver driver, By locator, int timeout) {
        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(timeout));
        return wait.until(ExpectedConditions.visibilityOfElementLocated(locator));
    }

    public static WebElement waitForElementClickable(WebDriver driver, By locator, int timeout) {
        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(timeout));
        return wait.until(ExpectedConditions.elementToBeClickable(locator));
    }

    public static boolean waitForElementInvisible(WebDriver driver, By locator, int timeout) {
        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(timeout));
        return wait.until(ExpectedConditions.invisibilityOfElementLocated(locator));
    }

    public static WebElement fluentWait(WebDriver driver, By locator, int timeout, int polling) {
        FluentWait<WebDriver> wait = new FluentWait<>(driver)
                .withTimeout(Duration.ofSeconds(timeout))
                .pollingEvery(Duration.ofSeconds(polling))
                .ignoring(NoSuchElementException.class)
                .ignoring(StaleElementReferenceException.class);

        return wait.until(driver1 -> {
            WebElement element = driver1.findElement(locator);
            return element.isDisplayed() ? element : null;
        });
    }

    public static void waitForPageLoad(WebDriver driver, int timeout) {
        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(timeout));
        wait.until(webDriver ->
                ((JavascriptExecutor) webDriver)
                        .executeScript("return document.readyState").equals("complete")
        );
    }
    
    public static void waitForUrlContains(WebDriver driver, String text, int timeout) {
        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(timeout));
        wait.until(ExpectedConditions.urlContains(text));
    }
    
    public static void waitForTextToBePresent(WebDriver driver, By locator, String text, int timeout) {
        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(timeout));
        wait.until(ExpectedConditions.textToBePresentInElementLocated(locator, text));
    }
    
    public static void sleep(int milliseconds) {
        try {
            Thread.sleep(milliseconds);
        } catch (InterruptedException e) {
            Thread.currentThread().interrupt();
        }
    }
}
=== ./src/main/java/com/sqe/framework/utils/ExcelReader.java ===
package com.sqe.framework.utils;

import org.apache.poi.ss.usermodel.*;
import org.apache.poi.xssf.usermodel.XSSFWorkbook;
import java.io.InputStream;
import java.io.FileInputStream;
import java.io.IOException;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

public class ExcelReader {

    private Workbook workbook;
    private Sheet sheet;
    private boolean fileExists;

    public ExcelReader(String filePath) {
        fileExists = false;
        workbook = null;

        try {
            // Try to load from classpath first
            InputStream inputStream = getClass().getClassLoader()
                    .getResourceAsStream(filePath);

            if (inputStream != null) {
                workbook = new XSSFWorkbook(inputStream);
                fileExists = true;
                System.out.println("Loaded Excel file from classpath: " + filePath);
            } else {
                // Try to load from file system
                try {
                    FileInputStream fis = new FileInputStream(filePath);
                    workbook = new XSSFWorkbook(fis);
                    fis.close();
                    fileExists = true;
                    System.out.println("Loaded Excel file from filesystem: " + filePath);
                } catch (IOException e) {
                    System.out.println("Excel file not found: " + filePath + ". Creating empty workbook.");
                    createEmptyWorkbook();
                }
            }
        } catch (Exception e) {
            System.out.println("Error loading Excel file: " + e.getMessage() + ". Creating empty workbook.");
            createEmptyWorkbook();
        }
    }

    private void createEmptyWorkbook() {
        workbook = new XSSFWorkbook();
        fileExists = false;

        // Create default sheets
        createDefaultLoginSheet();
        createDefaultProductsSheet();
        createDefaultUsersSheet();
    }

    private void createDefaultLoginSheet() {
        Sheet loginSheet = workbook.createSheet("Login");

        // Create header row
        Row headerRow = loginSheet.createRow(0);
        String[] headers = {"Username", "Password", "ExpectedResult"};
        for (int i = 0; i < headers.length; i++) {
            Cell cell = headerRow.createCell(i);
            cell.setCellValue(headers[i]);
        }

        // Create data rows
        String[][] loginData = {
                {"standard_user", "secret_sauce", "Success"},
                {"locked_out_user", "secret_sauce", "Fail"},
                {"problem_user", "secret_sauce", "Success"},
                {"performance_glitch_user", "secret_sauce", "Success"}
        };

        for (int i = 0; i < loginData.length; i++) {
            Row row = loginSheet.createRow(i + 1);
            for (int j = 0; j < loginData[i].length; j++) {
                Cell cell = row.createCell(j);
                cell.setCellValue(loginData[i][j]);
            }
        }
    }

    private void createDefaultProductsSheet() {
        Sheet productsSheet = workbook.createSheet("Products");

        // Create header row
        Row headerRow = productsSheet.createRow(0);
        String[] headers = {"Name", "Price", "Category"};
        for (int i = 0; i < headers.length; i++) {
            Cell cell = headerRow.createCell(i);
            cell.setCellValue(headers[i]);
        }

        // Create data rows
        String[][] productsData = {
                {"Sauce Labs Backpack", "29.99", "Backpack"},
                {"Sauce Labs Bike Light", "9.99", "Accessory"},
                {"Sauce Labs Bolt T-Shirt", "15.99", "Clothing"},
                {"Sauce Labs Fleece Jacket", "49.99", "Clothing"},
                {"Sauce Labs Onesie", "7.99", "Clothing"},
                {"Test.allTheThings() T-Shirt (Red)", "15.99", "Clothing"}
        };

        for (int i = 0; i < productsData.length; i++) {
            Row row = productsSheet.createRow(i + 1);
            for (int j = 0; j < productsData[i].length; j++) {
                Cell cell = row.createCell(j);
                cell.setCellValue(productsData[i][j]);
            }
        }
    }

    private void createDefaultUsersSheet() {
        Sheet usersSheet = workbook.createSheet("Users");

        // Create header row
        Row headerRow = usersSheet.createRow(0);
        String[] headers = {"Username", "Password", "FirstName", "LastName"};
        for (int i = 0; i < headers.length; i++) {
            Cell cell = headerRow.createCell(i);
            cell.setCellValue(headers[i]);
        }

        // Create data rows
        String[][] usersData = {
                {"standard_user", "secret_sauce", "Standard", "User"},
                {"locked_out_user", "secret_sauce", "Locked", "Out"},
                {"problem_user", "secret_sauce", "Problem", "User"},
                {"performance_glitch_user", "secret_sauce", "Performance", "Glitch"}
        };

        for (int i = 0; i < usersData.length; i++) {
            Row row = usersSheet.createRow(i + 1);
            for (int j = 0; j < usersData[i].length; j++) {
                Cell cell = row.createCell(j);
                cell.setCellValue(usersData[i][j]);
            }
        }
    }

    public void setSheet(String sheetName) {
        sheet = workbook.getSheet(sheetName);
        if (sheet == null) {
            throw new RuntimeException("Sheet not found: " + sheetName);
        }
    }

    public List<Map<String, String>> getAllData() {
        List<Map<String, String>> data = new ArrayList<>();
        if (sheet == null) {
            return data;
        }

        int rowCount = sheet.getPhysicalNumberOfRows();
        if (rowCount <= 1) {
            return data; // Only header or empty
        }

        int colCount = sheet.getRow(0).getPhysicalNumberOfCells();

        // Get headers
        Row headerRow = sheet.getRow(0);
        String[] headers = new String[colCount];
        for (int i = 0; i < colCount; i++) {
            headers[i] = getCellValue(headerRow.getCell(i));
        }

        // Get data rows
        for (int i = 1; i < rowCount; i++) {
            Row row = sheet.getRow(i);
            if (row == null) continue;

            Map<String, String> rowData = new HashMap<>();
            for (int j = 0; j < colCount; j++) {
                String header = headers[j];
                String value = getCellValue(row.getCell(j));
                rowData.put(header, value);
            }
            data.add(rowData);
        }

        return data;
    }

    private String getCellValue(Cell cell) {
        if (cell == null) return "";

        switch (cell.getCellType()) {
            case STRING:
                return cell.getStringCellValue();
            case NUMERIC:
                if (DateUtil.isCellDateFormatted(cell)) {
                    return cell.getDateCellValue().toString();
                } else {
                    return String.valueOf(cell.getNumericCellValue());
                }
            case BOOLEAN:
                return String.valueOf(cell.getBooleanCellValue());
            case FORMULA:
                return cell.getCellFormula();
            default:
                return "";
        }
    }

    public void close() {
        try {
            if (workbook != null) {
                workbook.close();
            }
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    public boolean isFileExists() {
        return fileExists;
    }

    // Static utility method
    public static List<Map<String, String>> getTestData(String sheetName) {
        String filePath = "testdata/testdata.xlsx";
        ExcelReader reader = new ExcelReader(filePath);
        reader.setSheet(sheetName);
        List<Map<String, String>> data = reader.getAllData();
        reader.close();
        return data;
    }
}=== ./src/main/java/com/sqe/framework/utils/ScreenshotUtils.java ===
package com.sqe.framework.utils;

import com.sqe.framework.config.ConfigManager;
import org.apache.commons.io.FileUtils;
import org.openqa.selenium.OutputType;
import org.openqa.selenium.TakesScreenshot;
import org.openqa.selenium.WebDriver;

import java.io.File;
import java.io.IOException;
import java.text.SimpleDateFormat;
import java.util.Date;

public class ScreenshotUtils {

    public static String takeScreenshot(WebDriver driver, String testName) {
        if (driver == null) {
            return "";
        }

        try {
            String timestamp = new SimpleDateFormat("yyyyMMdd_HHmmss").format(new Date());
            String screenshotName = testName + "_" + timestamp + ".png";
            String screenshotDir = ConfigManager.getInstance().getScreenshotPath();

            // Create directory if it doesn't exist
            File directory = new File(screenshotDir);
            if (!directory.exists()) {
                directory.mkdirs();
            }

            String screenshotPath = screenshotDir + screenshotName;
            File screenshotFile = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);
            FileUtils.copyFile(screenshotFile, new File(screenshotPath));

            // For Allure reporting
            attachScreenshotToAllure(screenshotFile, screenshotName);

            return screenshotPath;
        } catch (IOException e) {
            e.printStackTrace();
            return "";
        }
    }

    private static void attachScreenshotToAllure(File screenshotFile, String screenshotName) {
        try {
            byte[] fileContent = FileUtils.readFileToByteArray(screenshotFile);
            io.qameta.allure.Allure.addAttachment(screenshotName, "image/png",
                    new java.io.ByteArrayInputStream(fileContent), ".png");
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}=== ./src/main/java/com/sqe/framework/utils/PasswordWarningHandler.java ===
package com.sqe.framework.utils;

import com.sqe.framework.base.DriverManager;
import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.support.ui.ExpectedConditions;
import org.openqa.selenium.support.ui.WebDriverWait;
import java.time.Duration;
import java.util.List;

public class PasswordWarningHandler {
    
    public static boolean handlePasswordWarning() {
        WebDriver driver = DriverManager.getDriver();
        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(5));
        
        try {
            System.out.println("Checking for password warning popup...");
            
            // Try multiple possible selectors for the password warning
            String[] possibleSelectors = {
                "button:contains('OK')",
                "button:contains('Got it')",
                "button:contains('Continue')",
                "button:contains('Dismiss')",
                "[role='dialog'] button",
                ".password-save-prompt button",
                "[data-test='password-warning'] button",
                "//button[contains(text(), 'OK')]",
                "//button[contains(text(), 'Got it')]"
            };
            
            for (String selector : possibleSelectors) {
                try {
                    if (selector.startsWith("//")) {
                        // XPath selector
                        List<WebElement> elements = driver.findElements(By.xpath(selector));
                        if (!elements.isEmpty() && elements.get(0).isDisplayed()) {
                            System.out.println("Found password warning with XPath: " + selector);
                            elements.get(0).click();
                            System.out.println("Ō£ģ Clicked dismiss button");
                            Thread.sleep(1000); // Wait for popup to disappear
                            return true;
                        }
                    } else {
                        // CSS selector
                        List<WebElement> elements = driver.findElements(By.cssSelector(selector));
                        if (!elements.isEmpty() && elements.get(0).isDisplayed()) {
                            System.out.println("Found password warning with CSS: " + selector);
                            elements.get(0).click();
                            System.out.println("Ō£ģ Clicked dismiss button");
                            Thread.sleep(1000);
                            return true;
                        }
                    }
                } catch (Exception e) {
                    // Continue trying other selectors
                }
            }
            
            // Also check for Chrome's password breach warning
            try {
                List<WebElement> chromeDialogs = driver.findElements(By.cssSelector("div[role='dialog'], .bubble, .infobar"));
                for (WebElement dialog : chromeDialogs) {
                    if (dialog.isDisplayed() && 
                        (dialog.getText().contains("password") || 
                         dialog.getText().contains("breach") ||
                         dialog.getText().contains("Charge your password"))) {
                        System.out.println("Found Chrome password breach warning");
                        
                        // Try to find and click OK/Got it button
                        List<WebElement> buttons = dialog.findElements(By.tagName("button"));
                        for (WebElement button : buttons) {
                            if (button.isDisplayed() && 
                                (button.getText().contains("OK") || 
                                 button.getText().contains("Got it") ||
                                 button.getText().contains("Dismiss"))) {
                                button.click();
                                System.out.println("Ō£ģ Dismissed Chrome password warning");
                                Thread.sleep(1000);
                                return true;
                            }
                        }
                    }
                }
            } catch (Exception e) {
                // Ignore
            }
            
            System.out.println("No password warning found");
            return false;
            
        } catch (Exception e) {
            System.out.println("Error handling password warning: " + e.getMessage());
            return false;
        }
    }
    
    public static void waitAndHandlePasswordWarning() {
        try {
            // Wait a moment for any popup to appear
            Thread.sleep(2000);
            
            // Try to handle password warning
            boolean handled = handlePasswordWarning();
            
            if (handled) {
                // Wait for page to stabilize
                Thread.sleep(2000);
            }
        } catch (InterruptedException e) {
            Thread.currentThread().interrupt();
        }
    }
}
=== ./src/main/java/com/sqe/framework/utils/DatabaseManager.java ===
package com.sqe.framework.utils;

import com.sqe.framework.config.ConfigManager;

import java.sql.*;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

public class DatabaseManager {
    
    private Connection connection;
    
    public DatabaseManager() {
        try {
            Class.forName("com.mysql.cj.jdbc.Driver");
            
            // Get credentials from ConfigManager
            String host = ConfigManager.getInstance().getProperty("db.host");
            String port = ConfigManager.getInstance().getProperty("db.port");
            String database = ConfigManager.getInstance().getProperty("db.name");
            String username = ConfigManager.getInstance().getProperty("db.username");
            String password = ConfigManager.getInstance().getProperty("db.password");
            
            String url = "jdbc:mysql://" + host + ":" + port + "/" + database;
            
            System.out.println("Attempting to connect to database: " + url);
            System.out.println("Username: " + username);
            
            connection = DriverManager.getConnection(url, username, password);
            System.out.println("✅ Database connection successful!");
            
        } catch (ClassNotFoundException e) {
            System.err.println("MySQL JDBC Driver not found!");
            e.printStackTrace();
            throw new RuntimeException("Failed to load MySQL JDBC Driver");
        } catch (SQLException e) {
            System.err.println("Failed to connect to database!");
            System.err.println("Error: " + e.getMessage());
            e.printStackTrace();
            throw new RuntimeException("Failed to connect to database: " + e.getMessage());
        }
    }
    
    public List<Map<String, Object>> executeQuery(String query) {
        List<Map<String, Object>> resultList = new ArrayList<>();
        
        try (Statement stmt = connection.createStatement();
             ResultSet rs = stmt.executeQuery(query)) {
            
            ResultSetMetaData metaData = rs.getMetaData();
            int columnCount = metaData.getColumnCount();
            
            while (rs.next()) {
                Map<String, Object> row = new HashMap<>();
                for (int i = 1; i <= columnCount; i++) {
                    String columnName = metaData.getColumnName(i);
                    Object columnValue = rs.getObject(i);
                    row.put(columnName, columnValue);
                }
                resultList.add(row);
            }
            
        } catch (SQLException e) {
            System.err.println("Error executing query: " + query);
            e.printStackTrace();
        }
        
        return resultList;
    }
    
    public int executeUpdate(String query) {
        try (Statement stmt = connection.createStatement()) {
            return stmt.executeUpdate(query);
        } catch (SQLException e) {
            System.err.println("Error executing update: " + query);
            e.printStackTrace();
            return -1;
        }
    }
    
    public void createTestDatabase() {
        try {
            // Create database if it doesn't exist
            String createDbQuery = "CREATE DATABASE IF NOT EXISTS test_automation";
            executeUpdate(createDbQuery);
            System.out.println("✅ Database 'test_automation' created or already exists");
            
            // Use the database
            String useDbQuery = "USE test_automation";
            executeUpdate(useDbQuery);
            
            // Create users table
            String createUsersTable = "CREATE TABLE IF NOT EXISTS users (" +
                    "id INT PRIMARY KEY AUTO_INCREMENT," +
                    "username VARCHAR(50) NOT NULL UNIQUE," +
                    "password VARCHAR(100) NOT NULL," +
                    "first_name VARCHAR(50)," +
                    "last_name VARCHAR(50)," +
                    "email VARCHAR(100)," +
                    "created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP" +
                    ")";
            executeUpdate(createUsersTable);
            System.out.println("✅ Users table created or already exists");
            
            // Create products table
            String createProductsTable = "CREATE TABLE IF NOT EXISTS products (" +
                    "id INT PRIMARY KEY AUTO_INCREMENT," +
                    "name VARCHAR(100) NOT NULL," +
                    "description TEXT," +
                    "price DECIMAL(10,2) NOT NULL," +
                    "category VARCHAR(50)," +
                    "in_stock BOOLEAN DEFAULT true," +
                    "created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP" +
                    ")";
            executeUpdate(createProductsTable);
            System.out.println("✅ Products table created or already exists");
            
            // Insert test data
            insertTestData();
            
        } catch (Exception e) {
            System.err.println("Error creating test database: " + e.getMessage());
        }
    }
    
    private void insertTestData() {
        // Insert users if table is empty
        String checkUsers = "SELECT COUNT(*) as count FROM users";
        List<Map<String, Object>> usersCount = executeQuery(checkUsers);
        long userCount = (Long) usersCount.get(0).get("count");
        
        if (userCount == 0) {
            String insertUsers = "INSERT INTO users (username, password, first_name, last_name, email) VALUES " +
                    "('standard_user', 'secret_sauce', 'Standard', 'User', 'standard@test.com')," +
                    "('locked_out_user', 'secret_sauce', 'Locked', 'Out', 'locked@test.com')," +
                    "('problem_user', 'secret_sauce', 'Problem', 'User', 'problem@test.com')," +
                    "('performance_glitch_user', 'secret_sauce', 'Performance', 'Glitch', 'performance@test.com')";
            executeUpdate(insertUsers);
            System.out.println("✅ Test users inserted");
        }
        
        // Insert products if table is empty
        String checkProducts = "SELECT COUNT(*) as count FROM products";
        List<Map<String, Object>> productsCount = executeQuery(checkProducts);
        long productCount = (Long) productsCount.get(0).get("count");
        
        if (productCount == 0) {
            String insertProducts = "INSERT INTO products (name, description, price, category) VALUES " +
                    "('Sauce Labs Backpack', 'carry.allTheThings() with the sleek, streamlined Sly Pack that melds uncompromising style with unequaled laptop and tablet protection.', 29.99, 'backpack')," +
                    "('Sauce Labs Bike Light', 'A red light isn''t the desired state in testing but it sure helps when riding your bike at night. Water-resistant with 3 lighting modes, 1 AAA battery included.', 9.99, 'accessory')," +
                    "('Sauce Labs Bolt T-Shirt', 'Get your testing superhero on with the Sauce Labs bolt T-shirt. From American Apparel, 100% ringspun combed cotton, heather gray with red bolt.', 15.99, 'clothing')," +
                    "('Sauce Labs Fleece Jacket', 'It''s not every day that you come across a midweight quarter-zip fleece jacket capable of handling everything from a relaxing day outdoors to a busy day at the office.', 49.99, 'clothing')," +
                    "('Sauce Labs Onesie', 'Rib snap infant onesie for the junior automation engineer in development. Reinforced 3-snap bottom closure, two-needle hemmed sleeved and bottom won''t unravel.', 7.99, 'clothing')," +
                    "('Test.allTheThings() T-Shirt (Red)', 'This classic Sauce Labs t-shirt is perfect to wear when cozying up to your keyboard to automate a few tests. Super-soft and comfy ringspun combed cotton.', 15.99, 'clothing')";
            executeUpdate(insertProducts);
            System.out.println("✅ Test products inserted");
        }
    }
    
    public List<Map<String, Object>> getUsers() {
        String query = "SELECT * FROM users";
        return executeQuery(query);
    }
    
    public List<Map<String, Object>> getProducts() {
        String query = "SELECT * FROM products";
        return executeQuery(query);
    }
    
    public Map<String, Object> getUserByUsername(String username) {
        String query = "SELECT * FROM users WHERE username = '" + username + "'";
        List<Map<String, Object>> users = executeQuery(query);
        return users.isEmpty() ? null : users.get(0);
    }
    
    public void close() {
        try {
            if (connection != null && !connection.isClosed()) {
                connection.close();
                System.out.println("Database connection closed");
            }
        } catch (SQLException e) {
            e.printStackTrace();
        }
    }
}
=== ./src/main/java/com/sqe/framework/utils/RedisManager.java ===
package com.sqe.framework.utils;

import redis.clients.jedis.Jedis;
import redis.clients.jedis.JedisPool;
import redis.clients.jedis.JedisPoolConfig;

import java.time.Duration;

public class RedisManager {

    private static JedisPool jedisPool;
    private static final String REDIS_HOST = "localhost";
    private static final int REDIS_PORT = 6379;

    static {
        JedisPoolConfig poolConfig = new JedisPoolConfig();
        poolConfig.setMaxTotal(10);
        poolConfig.setMaxIdle(5);
        poolConfig.setMinIdle(1);
        poolConfig.setTestOnBorrow(true);
        poolConfig.setTestOnReturn(true);
        poolConfig.setTestWhileIdle(true);
        poolConfig.setMinEvictableIdleTime(Duration.ofSeconds(60));
        poolConfig.setTimeBetweenEvictionRuns(Duration.ofSeconds(30));
        poolConfig.setNumTestsPerEvictionRun(3);
        poolConfig.setBlockWhenExhausted(true);

        jedisPool = new JedisPool(poolConfig, REDIS_HOST, REDIS_PORT);
    }

    public static Jedis getConnection() {
        return jedisPool.getResource();
    }

    public static void set(String key, String value) {
        try (Jedis jedis = getConnection()) {
            jedis.set(key, value);
        }
    }

    public static void set(String key, String value, int expirySeconds) {
        try (Jedis jedis = getConnection()) {
            jedis.setex(key, expirySeconds, value);
        }
    }

    public static String get(String key) {
        try (Jedis jedis = getConnection()) {
            return jedis.get(key);
        }
    }

    public static void delete(String key) {
        try (Jedis jedis = getConnection()) {
            jedis.del(key);
        }
    }

    public static boolean exists(String key) {
        try (Jedis jedis = getConnection()) {
            return jedis.exists(key);
        }
    }

    // Test specific methods
    public static void storeSessionToken(String username, String token) {
        String key = "session:" + username;
        set(key, token, 3600); // 1 hour expiry
    }

    public static String getSessionToken(String username) {
        String key = "session:" + username;
        return get(key);
    }

    public static void clearSessionToken(String username) {
        String key = "session:" + username;
        delete(key);
    }

    public static void storeCartData(String userId, String cartData) {
        String key = "cart:" + userId;
        set(key, cartData, 7200); // 2 hours expiry
    }

    public static String getCartData(String userId) {
        String key = "cart:" + userId;
        return get(key);
    }

    public static void close() {
        if (jedisPool != null && !jedisPool.isClosed()) {
            jedisPool.close();
        }
    }
}=== ./testng-diagnostic.xml ===
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE suite SYSTEM "https://testng.org/testng-1.0.dtd"\>
<suite name="Diagnostic Tests" verbose="1">
    <test name="Diagnostic">
        <classes>
            <class name="com.sqe.tests.diagnostic.DiagnosticRunner"/>
        </classes>
    </test>
</suite>
